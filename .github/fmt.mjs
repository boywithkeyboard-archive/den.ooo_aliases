var fi=Object.create;var rn=Object.defineProperty;var ai=Object.getOwnPropertyDescriptor;var di=Object.getOwnPropertyNames;var li=Object.getPrototypeOf,pi=Object.prototype.hasOwnProperty;var z=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports);var yi=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let i of di(r))!pi.call(e,i)&&i!==t&&rn(e,i,{get:()=>r[i],enumerable:!(n=ai(r,i))||n.enumerable});return e};var nn=(e,r,t)=>(t=e!=null?fi(li(e)):{},yi(r||!e||!e.__esModule?rn(t,"default",{value:e,enumerable:!0}):t,e));var Pe=z(a=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.Type=a.JsonType=a.JavaScriptTypeBuilder=a.JsonTypeBuilder=a.TypeBuilder=a.TypeBuilderError=a.TransformEncodeBuilder=a.TransformDecodeBuilder=a.TemplateLiteralDslParser=a.TemplateLiteralGenerator=a.TemplateLiteralGeneratorError=a.TemplateLiteralFinite=a.TemplateLiteralFiniteError=a.TemplateLiteralParser=a.TemplateLiteralParserError=a.TemplateLiteralResolver=a.TemplateLiteralPattern=a.TemplateLiteralPatternError=a.UnionResolver=a.KeyArrayResolver=a.KeyArrayResolverError=a.KeyResolver=a.ObjectMap=a.Intrinsic=a.IndexedAccessor=a.TypeClone=a.TypeExtends=a.TypeExtendsResult=a.TypeExtendsError=a.ExtendsUndefined=a.TypeGuard=a.TypeGuardUnknownTypeError=a.ValueGuard=a.FormatRegistry=a.TypeBoxError=a.TypeRegistry=a.PatternStringExact=a.PatternNumberExact=a.PatternBooleanExact=a.PatternString=a.PatternNumber=a.PatternBoolean=a.Kind=a.Hint=a.Optional=a.Readonly=a.Transform=void 0;a.Transform=Symbol.for("TypeBox.Transform");a.Readonly=Symbol.for("TypeBox.Readonly");a.Optional=Symbol.for("TypeBox.Optional");a.Hint=Symbol.for("TypeBox.Hint");a.Kind=Symbol.for("TypeBox.Kind");a.PatternBoolean="(true|false)";a.PatternNumber="(0|[1-9][0-9]*)";a.PatternString="(.*)";a.PatternBooleanExact=`^${a.PatternBoolean}$`;a.PatternNumberExact=`^${a.PatternNumber}$`;a.PatternStringExact=`^${a.PatternString}$`;var $r;(function(e){let r=new Map;function t(){return new Map(r)}e.Entries=t;function n(){return r.clear()}e.Clear=n;function i(x){return r.delete(x)}e.Delete=i;function o(x){return r.has(x)}e.Has=o;function f(x,P){r.set(x,P)}e.Set=f;function p(x){return r.get(x)}e.Get=p})($r||(a.TypeRegistry=$r={}));var ge=class extends Error{constructor(r){super(r)}};a.TypeBoxError=ge;var on;(function(e){let r=new Map;function t(){return new Map(r)}e.Entries=t;function n(){return r.clear()}e.Clear=n;function i(x){return r.delete(x)}e.Delete=i;function o(x){return r.has(x)}e.Has=o;function f(x,P){r.set(x,P)}e.Set=f;function p(x){return r.get(x)}e.Get=p})(on||(a.FormatRegistry=on={}));var j;(function(e){function r(P){return Array.isArray(P)}e.IsArray=r;function t(P){return typeof P=="bigint"}e.IsBigInt=t;function n(P){return typeof P=="boolean"}e.IsBoolean=n;function i(P){return P===null}e.IsNull=i;function o(P){return typeof P=="number"}e.IsNumber=o;function f(P){return typeof P=="object"&&P!==null}e.IsObject=f;function p(P){return typeof P=="string"}e.IsString=p;function x(P){return P===void 0}e.IsUndefined=x})(j||(a.ValueGuard=j={}));var Kr=class extends ge{};a.TypeGuardUnknownTypeError=Kr;var d;(function(e){function r(c){try{return new RegExp(c),!0}catch{return!1}}function t(c){if(!j.IsString(c))return!1;for(let H=0;H<c.length;H++){let Te=c.charCodeAt(H);if(Te>=7&&Te<=13||Te===27||Te===127)return!1}return!0}function n(c){return f(c)||Q(c)}function i(c){return j.IsUndefined(c)||j.IsBigInt(c)}function o(c){return j.IsUndefined(c)||j.IsNumber(c)}function f(c){return j.IsUndefined(c)||j.IsBoolean(c)}function p(c){return j.IsUndefined(c)||j.IsString(c)}function x(c){return j.IsUndefined(c)||j.IsString(c)&&t(c)&&r(c)}function P(c){return j.IsUndefined(c)||j.IsString(c)&&t(c)}function g(c){return j.IsUndefined(c)||Q(c)}function U(c){return E(c,"Any")&&p(c.$id)}e.TAny=U;function M(c){return E(c,"Array")&&c.type==="array"&&p(c.$id)&&Q(c.items)&&o(c.minItems)&&o(c.maxItems)&&f(c.uniqueItems)&&g(c.contains)&&o(c.minContains)&&o(c.maxContains)}e.TArray=M;function b(c){return E(c,"AsyncIterator")&&c.type==="AsyncIterator"&&p(c.$id)&&Q(c.items)}e.TAsyncIterator=b;function l(c){return E(c,"BigInt")&&c.type==="bigint"&&p(c.$id)&&i(c.exclusiveMaximum)&&i(c.exclusiveMinimum)&&i(c.maximum)&&i(c.minimum)&&i(c.multipleOf)}e.TBigInt=l;function T(c){return E(c,"Boolean")&&c.type==="boolean"&&p(c.$id)}e.TBoolean=T;function m(c){return E(c,"Constructor")&&c.type==="Constructor"&&p(c.$id)&&j.IsArray(c.parameters)&&c.parameters.every(H=>Q(H))&&Q(c.returns)}e.TConstructor=m;function O(c){return E(c,"Date")&&c.type==="Date"&&p(c.$id)&&o(c.exclusiveMaximumTimestamp)&&o(c.exclusiveMinimumTimestamp)&&o(c.maximumTimestamp)&&o(c.minimumTimestamp)&&o(c.multipleOfTimestamp)}e.TDate=O;function y(c){return E(c,"Function")&&c.type==="Function"&&p(c.$id)&&j.IsArray(c.parameters)&&c.parameters.every(H=>Q(H))&&Q(c.returns)}e.TFunction=y;function w(c){return E(c,"Integer")&&c.type==="integer"&&p(c.$id)&&o(c.exclusiveMaximum)&&o(c.exclusiveMinimum)&&o(c.maximum)&&o(c.minimum)&&o(c.multipleOf)}e.TInteger=w;function N(c){return E(c,"Intersect")&&!(j.IsString(c.type)&&c.type!=="object")&&j.IsArray(c.allOf)&&c.allOf.every(H=>Q(H)&&!dt(H))&&p(c.type)&&(f(c.unevaluatedProperties)||g(c.unevaluatedProperties))&&p(c.$id)}e.TIntersect=N;function C(c){return E(c,"Iterator")&&c.type==="Iterator"&&p(c.$id)&&Q(c.items)}e.TIterator=C;function E(c,H){return v(c)&&c[a.Kind]===H}e.TKindOf=E;function v(c){return j.IsObject(c)&&a.Kind in c&&j.IsString(c[a.Kind])}e.TKind=v;function V(c){return Me(c)&&j.IsString(c.const)}e.TLiteralString=V;function ne(c){return Me(c)&&j.IsNumber(c.const)}e.TLiteralNumber=ne;function Sr(c){return Me(c)&&j.IsBoolean(c.const)}e.TLiteralBoolean=Sr;function Me(c){return E(c,"Literal")&&p(c.$id)&&(j.IsBoolean(c.const)||j.IsNumber(c.const)||j.IsString(c.const))}e.TLiteral=Me;function xt(c){return E(c,"Never")&&j.IsObject(c.not)&&Object.getOwnPropertyNames(c.not).length===0}e.TNever=xt;function h(c){return E(c,"Not")&&Q(c.not)}e.TNot=h;function ct(c){return E(c,"Null")&&c.type==="null"&&p(c.$id)}e.TNull=ct;function ft(c){return E(c,"Number")&&c.type==="number"&&p(c.$id)&&o(c.exclusiveMaximum)&&o(c.exclusiveMinimum)&&o(c.maximum)&&o(c.minimum)&&o(c.multipleOf)}e.TNumber=ft;function ze(c){return E(c,"Object")&&c.type==="object"&&p(c.$id)&&j.IsObject(c.properties)&&n(c.additionalProperties)&&o(c.minProperties)&&o(c.maxProperties)&&Object.entries(c.properties).every(([H,Te])=>t(H)&&Q(Te))}e.TObject=ze;function at(c){return E(c,"Promise")&&c.type==="Promise"&&p(c.$id)&&Q(c.item)}e.TPromise=at;function Ut(c){return E(c,"Record")&&c.type==="object"&&p(c.$id)&&n(c.additionalProperties)&&j.IsObject(c.patternProperties)&&(H=>{let Te=Object.getOwnPropertyNames(H.patternProperties);return Te.length===1&&r(Te[0])&&j.IsObject(H.patternProperties)&&Q(H.patternProperties[Te[0]])})(c)}e.TRecord=Ut;function Cr(c){return j.IsObject(c)&&a.Hint in c&&c[a.Hint]==="Recursive"}e.TRecursive=Cr;function wt(c){return E(c,"Ref")&&p(c.$id)&&j.IsString(c.$ref)}e.TRef=wt;function Nt(c){return E(c,"String")&&c.type==="string"&&p(c.$id)&&o(c.minLength)&&o(c.maxLength)&&x(c.pattern)&&P(c.format)}e.TString=Nt;function jt(c){return E(c,"Symbol")&&c.type==="symbol"&&p(c.$id)}e.TSymbol=jt;function qe(c){return E(c,"TemplateLiteral")&&c.type==="string"&&j.IsString(c.pattern)&&c.pattern[0]==="^"&&c.pattern[c.pattern.length-1]==="$"}e.TTemplateLiteral=qe;function At(c){return E(c,"This")&&p(c.$id)&&j.IsString(c.$ref)}e.TThis=At;function dt(c){return j.IsObject(c)&&a.Transform in c}e.TTransform=dt;function W(c){return E(c,"Tuple")&&c.type==="array"&&p(c.$id)&&j.IsNumber(c.minItems)&&j.IsNumber(c.maxItems)&&c.minItems===c.maxItems&&(j.IsUndefined(c.items)&&j.IsUndefined(c.additionalItems)&&c.minItems===0||j.IsArray(c.items)&&c.items.every(H=>Q(H)))}e.TTuple=W;function St(c){return E(c,"Undefined")&&c.type==="undefined"&&p(c.$id)}e.TUndefined=St;function Er(c){return _e(c)&&c.anyOf.every(H=>V(H)||ne(H))}e.TUnionLiteral=Er;function _e(c){return E(c,"Union")&&p(c.$id)&&j.IsObject(c)&&j.IsArray(c.anyOf)&&c.anyOf.every(H=>Q(H))}e.TUnion=_e;function Je(c){return E(c,"Uint8Array")&&c.type==="Uint8Array"&&p(c.$id)&&o(c.minByteLength)&&o(c.maxByteLength)}e.TUint8Array=Je;function ce(c){return E(c,"Unknown")&&p(c.$id)}e.TUnknown=ce;function Ct(c){return E(c,"Unsafe")}e.TUnsafe=Ct;function lt(c){return E(c,"Void")&&c.type==="void"&&p(c.$id)}e.TVoid=lt;function Rr(c){return j.IsObject(c)&&c[a.Readonly]==="Readonly"}e.TReadonly=Rr;function Lr(c){return j.IsObject(c)&&c[a.Optional]==="Optional"}e.TOptional=Lr;function Q(c){return j.IsObject(c)&&(U(c)||M(c)||T(c)||l(c)||b(c)||m(c)||O(c)||y(c)||w(c)||N(c)||C(c)||Me(c)||xt(c)||h(c)||ct(c)||ft(c)||ze(c)||at(c)||Ut(c)||wt(c)||Nt(c)||jt(c)||qe(c)||At(c)||W(c)||St(c)||_e(c)||Je(c)||ce(c)||Ct(c)||lt(c)||v(c)&&$r.Has(c[a.Kind]))}e.TSchema=Q})(d||(a.TypeGuard=d={}));var un;(function(e){function r(t){return t[a.Kind]==="Intersect"?t.allOf.every(n=>r(n)):t[a.Kind]==="Union"?t.anyOf.some(n=>r(n)):t[a.Kind]==="Undefined"?!0:t[a.Kind]==="Not"?!r(t.not):!1}e.Check=r})(un||(a.ExtendsUndefined=un={}));var Et=class extends ge{};a.TypeExtendsError=Et;var I;(function(e){e[e.Union=0]="Union",e[e.True=1]="True",e[e.False=2]="False"})(I||(a.TypeExtendsResult=I={}));var ke;(function(e){function r(u){return u===I.False?u:I.True}function t(u){throw new Et(u)}function n(u){return d.TNever(u)||d.TIntersect(u)||d.TUnion(u)||d.TUnknown(u)||d.TAny(u)}function i(u,s){return d.TNever(s)?E(u,s):d.TIntersect(s)?y(u,s):d.TUnion(s)?Mr(u,s):d.TUnknown(s)?tn(u,s):d.TAny(s)?o(u,s):t("StructuralRight")}function o(u,s){return I.True}function f(u,s){return d.TIntersect(s)?y(u,s):d.TUnion(s)&&s.anyOf.some(q=>d.TAny(q)||d.TUnknown(q))?I.True:d.TUnion(s)?I.Union:d.TUnknown(s)||d.TAny(s)?I.True:I.Union}function p(u,s){return d.TUnknown(u)?I.False:d.TAny(u)?I.Union:d.TNever(u)?I.True:I.False}function x(u,s){return d.TObject(s)&&qe(s)?I.True:n(s)?i(u,s):d.TArray(s)?r(k(u.items,s.items)):I.False}function P(u,s){return n(s)?i(u,s):d.TAsyncIterator(s)?r(k(u.items,s.items)):I.False}function g(u,s){return n(s)?i(u,s):d.TObject(s)?W(u,s):d.TRecord(s)?ce(u,s):d.TBigInt(s)?I.True:I.False}function U(u,s){return d.TLiteral(u)&&j.IsBoolean(u.const)||d.TBoolean(u)?I.True:I.False}function M(u,s){return n(s)?i(u,s):d.TObject(s)?W(u,s):d.TRecord(s)?ce(u,s):d.TBoolean(s)?I.True:I.False}function b(u,s){return n(s)?i(u,s):d.TObject(s)?W(u,s):d.TConstructor(s)?u.parameters.length>s.parameters.length?I.False:u.parameters.every((q,Oe)=>r(k(s.parameters[Oe],q))===I.True)?r(k(u.returns,s.returns)):I.False:I.False}function l(u,s){return n(s)?i(u,s):d.TObject(s)?W(u,s):d.TRecord(s)?ce(u,s):d.TDate(s)?I.True:I.False}function T(u,s){return n(s)?i(u,s):d.TObject(s)?W(u,s):d.TFunction(s)?u.parameters.length>s.parameters.length?I.False:u.parameters.every((q,Oe)=>r(k(s.parameters[Oe],q))===I.True)?r(k(u.returns,s.returns)):I.False:I.False}function m(u,s){return d.TLiteral(u)&&j.IsNumber(u.const)||d.TNumber(u)||d.TInteger(u)?I.True:I.False}function O(u,s){return d.TInteger(s)||d.TNumber(s)?I.True:n(s)?i(u,s):d.TObject(s)?W(u,s):d.TRecord(s)?ce(u,s):I.False}function y(u,s){return s.allOf.every(q=>k(u,q)===I.True)?I.True:I.False}function w(u,s){return u.allOf.some(q=>k(q,s)===I.True)?I.True:I.False}function N(u,s){return n(s)?i(u,s):d.TIterator(s)?r(k(u.items,s.items)):I.False}function C(u,s){return d.TLiteral(s)&&s.const===u.const?I.True:n(s)?i(u,s):d.TObject(s)?W(u,s):d.TRecord(s)?ce(u,s):d.TString(s)?lt(u,s):d.TNumber(s)?Me(u,s):d.TInteger(s)?m(u,s):d.TBoolean(s)?U(u,s):I.False}function E(u,s){return I.False}function v(u,s){return I.True}function V(u){let[s,q]=[u,0];for(;d.TNot(s);)s=s.not,q+=1;return q%2===0?s:a.Type.Unknown()}function ne(u,s){return d.TNot(u)?k(V(u),s):d.TNot(s)?k(u,V(s)):t("Invalid fallthrough for Not")}function Sr(u,s){return n(s)?i(u,s):d.TObject(s)?W(u,s):d.TRecord(s)?ce(u,s):d.TNull(s)?I.True:I.False}function Me(u,s){return d.TLiteralNumber(u)||d.TNumber(u)||d.TInteger(u)?I.True:I.False}function xt(u,s){return n(s)?i(u,s):d.TObject(s)?W(u,s):d.TRecord(s)?ce(u,s):d.TInteger(s)||d.TNumber(s)?I.True:I.False}function h(u,s){return Object.getOwnPropertyNames(u.properties).length===s}function ct(u){return qe(u)}function ft(u){return h(u,0)||h(u,1)&&"description"in u.properties&&d.TUnion(u.properties.description)&&u.properties.description.anyOf.length===2&&(d.TString(u.properties.description.anyOf[0])&&d.TUndefined(u.properties.description.anyOf[1])||d.TString(u.properties.description.anyOf[1])&&d.TUndefined(u.properties.description.anyOf[0]))}function ze(u){return h(u,0)}function at(u){return h(u,0)}function Ut(u){return h(u,0)}function Cr(u){return h(u,0)}function wt(u){return qe(u)}function Nt(u){let s=a.Type.Number();return h(u,0)||h(u,1)&&"length"in u.properties&&r(k(u.properties.length,s))===I.True}function jt(u){return h(u,0)}function qe(u){let s=a.Type.Number();return h(u,0)||h(u,1)&&"length"in u.properties&&r(k(u.properties.length,s))===I.True}function At(u){let s=a.Type.Function([a.Type.Any()],a.Type.Any());return h(u,0)||h(u,1)&&"then"in u.properties&&r(k(u.properties.then,s))===I.True}function dt(u,s){return k(u,s)===I.False||d.TOptional(u)&&!d.TOptional(s)?I.False:I.True}function W(u,s){return d.TUnknown(u)?I.False:d.TAny(u)?I.Union:d.TNever(u)||d.TLiteralString(u)&&ct(s)||d.TLiteralNumber(u)&&ze(s)||d.TLiteralBoolean(u)&&at(s)||d.TSymbol(u)&&ft(s)||d.TBigInt(u)&&Ut(s)||d.TString(u)&&ct(s)||d.TSymbol(u)&&ft(s)||d.TNumber(u)&&ze(s)||d.TInteger(u)&&ze(s)||d.TBoolean(u)&&at(s)||d.TUint8Array(u)&&wt(s)||d.TDate(u)&&Cr(s)||d.TConstructor(u)&&jt(s)||d.TFunction(u)&&Nt(s)?I.True:d.TRecord(u)&&d.TString(_e(u))?(()=>s[a.Hint]==="Record"?I.True:I.False)():d.TRecord(u)&&d.TNumber(_e(u))?(()=>h(s,0)?I.True:I.False)():I.False}function St(u,s){return n(s)?i(u,s):d.TRecord(s)?ce(u,s):d.TObject(s)?(()=>{for(let q of Object.getOwnPropertyNames(s.properties))if(!(q in u.properties)||dt(u.properties[q],s.properties[q])===I.False)return I.False;return I.True})():I.False}function Er(u,s){return n(s)?i(u,s):d.TObject(s)&&At(s)?I.True:d.TPromise(s)?r(k(u.item,s.item)):I.False}function _e(u){return a.PatternNumberExact in u.patternProperties?a.Type.Number():a.PatternStringExact in u.patternProperties?a.Type.String():t("Unknown record key pattern")}function Je(u){return a.PatternNumberExact in u.patternProperties?u.patternProperties[a.PatternNumberExact]:a.PatternStringExact in u.patternProperties?u.patternProperties[a.PatternStringExact]:t("Unable to get record value schema")}function ce(u,s){let[q,Oe]=[_e(s),Je(s)];return d.TLiteralString(u)&&d.TNumber(q)&&r(k(u,Oe))===I.True?I.True:d.TUint8Array(u)&&d.TNumber(q)||d.TString(u)&&d.TNumber(q)||d.TArray(u)&&d.TNumber(q)?k(u,Oe):d.TObject(u)?(()=>{for(let ci of Object.getOwnPropertyNames(u.properties))if(dt(Oe,u.properties[ci])===I.False)return I.False;return I.True})():I.False}function Ct(u,s){return n(s)?i(u,s):d.TObject(s)?W(u,s):d.TRecord(s)?k(Je(u),Je(s)):I.False}function lt(u,s){return d.TLiteral(u)&&j.IsString(u.const)||d.TString(u)?I.True:I.False}function Rr(u,s){return n(s)?i(u,s):d.TObject(s)?W(u,s):d.TRecord(s)?ce(u,s):d.TString(s)?I.True:I.False}function Lr(u,s){return n(s)?i(u,s):d.TObject(s)?W(u,s):d.TRecord(s)?ce(u,s):d.TSymbol(s)?I.True:I.False}function Q(u,s){return d.TTemplateLiteral(u)?k(Ae.Resolve(u),s):d.TTemplateLiteral(s)?k(u,Ae.Resolve(s)):t("Invalid fallthrough for TemplateLiteral")}function c(u,s){return d.TArray(s)&&u.items!==void 0&&u.items.every(q=>k(q,s.items)===I.True)}function H(u,s){return d.TNever(u)?I.True:d.TUnknown(u)?I.False:d.TAny(u)?I.Union:I.False}function Te(u,s){return n(s)?i(u,s):d.TObject(s)&&qe(s)||d.TArray(s)&&c(u,s)?I.True:d.TTuple(s)?j.IsUndefined(u.items)&&!j.IsUndefined(s.items)||!j.IsUndefined(u.items)&&j.IsUndefined(s.items)?I.False:j.IsUndefined(u.items)&&!j.IsUndefined(s.items)||u.items.every((q,Oe)=>k(q,s.items[Oe])===I.True)?I.True:I.False:I.False}function ti(u,s){return n(s)?i(u,s):d.TObject(s)?W(u,s):d.TRecord(s)?ce(u,s):d.TUint8Array(s)?I.True:I.False}function ri(u,s){return n(s)?i(u,s):d.TObject(s)?W(u,s):d.TRecord(s)?ce(u,s):d.TVoid(s)?oi(u,s):d.TUndefined(s)?I.True:I.False}function Mr(u,s){return s.anyOf.some(q=>k(u,q)===I.True)?I.True:I.False}function ni(u,s){return u.anyOf.every(q=>k(q,s)===I.True)?I.True:I.False}function tn(u,s){return I.True}function ii(u,s){return d.TNever(s)?E(u,s):d.TIntersect(s)?y(u,s):d.TUnion(s)?Mr(u,s):d.TAny(s)?o(u,s):d.TString(s)?lt(u,s):d.TNumber(s)?Me(u,s):d.TInteger(s)?m(u,s):d.TBoolean(s)?U(u,s):d.TArray(s)?p(u,s):d.TTuple(s)?H(u,s):d.TObject(s)?W(u,s):d.TUnknown(s)?I.True:I.False}function oi(u,s){return d.TUndefined(u)||d.TUndefined(u)?I.True:I.False}function ui(u,s){return d.TIntersect(s)?y(u,s):d.TUnion(s)?Mr(u,s):d.TUnknown(s)?tn(u,s):d.TAny(s)?o(u,s):d.TObject(s)?W(u,s):d.TVoid(s)?I.True:I.False}function k(u,s){return d.TTemplateLiteral(u)||d.TTemplateLiteral(s)?Q(u,s):d.TNot(u)||d.TNot(s)?ne(u,s):d.TAny(u)?f(u,s):d.TArray(u)?x(u,s):d.TBigInt(u)?g(u,s):d.TBoolean(u)?M(u,s):d.TAsyncIterator(u)?P(u,s):d.TConstructor(u)?b(u,s):d.TDate(u)?l(u,s):d.TFunction(u)?T(u,s):d.TInteger(u)?O(u,s):d.TIntersect(u)?w(u,s):d.TIterator(u)?N(u,s):d.TLiteral(u)?C(u,s):d.TNever(u)?v(u,s):d.TNull(u)?Sr(u,s):d.TNumber(u)?xt(u,s):d.TObject(u)?St(u,s):d.TRecord(u)?Ct(u,s):d.TString(u)?Rr(u,s):d.TSymbol(u)?Lr(u,s):d.TTuple(u)?Te(u,s):d.TPromise(u)?Er(u,s):d.TUint8Array(u)?ti(u,s):d.TUndefined(u)?ri(u,s):d.TUnion(u)?ni(u,s):d.TUnknown(u)?ii(u,s):d.TVoid(u)?ui(u,s):t(`Unknown left type operand '${u[a.Kind]}'`)}function si(u,s){return k(u,s)}e.Extends=si})(ke||(a.TypeExtends=ke={}));var L;(function(e){function r(f){let p=Object.getOwnPropertyNames(f).reduce((P,g)=>({...P,[g]:n(f[g])}),{}),x=Object.getOwnPropertySymbols(f).reduce((P,g)=>({...P,[g]:n(f[g])}),{});return{...p,...x}}function t(f){return f.map(p=>n(p))}function n(f){return j.IsArray(f)?t(f):j.IsObject(f)?r(f):f}function i(f){return f.map(p=>o(p))}e.Rest=i;function o(f,p={}){return{...n(f),...p}}e.Type=o})(L||(a.TypeClone=L={}));var Br;(function(e){function r(b){return b.map(l=>{let{[a.Optional]:T,...m}=L.Type(l);return m})}function t(b){return b.every(l=>d.TOptional(l))}function n(b){return b.some(l=>d.TOptional(l))}function i(b){return t(b.allOf)?a.Type.Optional(a.Type.Intersect(r(b.allOf))):b}function o(b){return n(b.anyOf)?a.Type.Optional(a.Type.Union(r(b.anyOf))):b}function f(b){return b[a.Kind]==="Intersect"?i(b):b[a.Kind]==="Union"?o(b):b}function p(b,l){let T=b.allOf.reduce((m,O)=>{let y=U(O,l);return y[a.Kind]==="Never"?m:[...m,y]},[]);return f(a.Type.Intersect(T))}function x(b,l){let T=b.anyOf.map(m=>U(m,l));return f(a.Type.Union(T))}function P(b,l){let T=b.properties[l];return j.IsUndefined(T)?a.Type.Never():a.Type.Union([T])}function g(b,l){let T=b.items;if(j.IsUndefined(T))return a.Type.Never();let m=T[l];return j.IsUndefined(m)?a.Type.Never():m}function U(b,l){return b[a.Kind]==="Intersect"?p(b,l):b[a.Kind]==="Union"?x(b,l):b[a.Kind]==="Object"?P(b,l):b[a.Kind]==="Tuple"?g(b,l):a.Type.Never()}function M(b,l,T={}){let m=l.map(O=>U(b,O.toString()));return f(a.Type.Union(m,T))}e.Resolve=M})(Br||(a.IndexedAccessor=Br={}));var Ze;(function(e){function r(g){let[U,M]=[g.slice(0,1),g.slice(1)];return`${U.toLowerCase()}${M}`}function t(g){let[U,M]=[g.slice(0,1),g.slice(1)];return`${U.toUpperCase()}${M}`}function n(g){return g.toUpperCase()}function i(g){return g.toLowerCase()}function o(g,U){let M=Qe.ParseExact(g.pattern);if(!Xe.Check(M))return{...g,pattern:f(g.pattern,U)};let T=[...Ye.Generate(M)].map(y=>a.Type.Literal(y)),m=p(T,U),O=a.Type.Union(m);return a.Type.TemplateLiteral([O])}function f(g,U){return typeof g=="string"?U==="Uncapitalize"?r(g):U==="Capitalize"?t(g):U==="Uppercase"?n(g):U==="Lowercase"?i(g):g:g.toString()}function p(g,U){if(g.length===0)return[];let[M,...b]=g;return[P(M,U),...p(b,U)]}function x(g,U){return d.TTemplateLiteral(g)?o(g,U):d.TUnion(g)?a.Type.Union(p(g.anyOf,U)):d.TLiteral(g)?a.Type.Literal(f(g.const,U)):g}function P(g,U){return x(g,U)}e.Map=P})(Ze||(a.Intrinsic=Ze={}));var We;(function(e){function r(f,p){return a.Type.Intersect(f.allOf.map(x=>i(x,p)),{...f})}function t(f,p){return a.Type.Union(f.anyOf.map(x=>i(x,p)),{...f})}function n(f,p){return p(f)}function i(f,p){return f[a.Kind]==="Intersect"?r(f,p):f[a.Kind]==="Union"?t(f,p):f[a.Kind]==="Object"?n(f,p):f}function o(f,p,x){return{...i(L.Type(f),p),...x}}e.Map=o})(We||(a.ObjectMap=We={}));var Rt;(function(e){function r(P){return P[0]==="^"&&P[P.length-1]==="$"?P.slice(1,P.length-1):P}function t(P,g){return P.allOf.reduce((U,M)=>[...U,...f(M,g)],[])}function n(P,g){let U=P.anyOf.map(M=>f(M,g));return[...U.reduce((M,b)=>b.map(l=>U.every(T=>T.includes(l))?M.add(l):M)[0],new Set)]}function i(P,g){return Object.getOwnPropertyNames(P.properties)}function o(P,g){return g.includePatterns?Object.getOwnPropertyNames(P.patternProperties):[]}function f(P,g){return d.TIntersect(P)?t(P,g):d.TUnion(P)?n(P,g):d.TObject(P)?i(P,g):d.TRecord(P)?o(P,g):[]}function p(P,g){return[...new Set(f(P,g))]}e.ResolveKeys=p;function x(P){return`^(${p(P,{includePatterns:!0}).map(M=>`(${r(M)})`).join("|")})$`}e.ResolvePattern=x})(Rt||(a.KeyResolver=Rt={}));var Lt=class extends ge{};a.KeyArrayResolverError=Lt;var pt;(function(e){function r(t){return Array.isArray(t)?t:d.TUnionLiteral(t)?t.anyOf.map(n=>n.const.toString()):d.TLiteral(t)?[t.const]:d.TTemplateLiteral(t)?(()=>{let n=Qe.ParseExact(t.pattern);if(!Xe.Check(n))throw new Lt("Cannot resolve keys from infinite template expression");return[...Ye.Generate(n)]})():[]}e.Resolve=r})(pt||(a.KeyArrayResolver=pt={}));var Dr;(function(e){function*r(n){for(let i of n.anyOf)i[a.Kind]==="Union"?yield*r(i):yield i}function t(n){return a.Type.Union([...r(n)],{...n})}e.Resolve=t})(Dr||(a.UnionResolver=Dr={}));var Mt=class extends ge{};a.TemplateLiteralPatternError=Mt;var $t;(function(e){function r(o){throw new Mt(o)}function t(o){return o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function n(o,f){return d.TTemplateLiteral(o)?o.pattern.slice(1,o.pattern.length-1):d.TUnion(o)?`(${o.anyOf.map(p=>n(p,f)).join("|")})`:d.TNumber(o)?`${f}${a.PatternNumber}`:d.TInteger(o)?`${f}${a.PatternNumber}`:d.TBigInt(o)?`${f}${a.PatternNumber}`:d.TString(o)?`${f}${a.PatternString}`:d.TLiteral(o)?`${f}${t(o.const.toString())}`:d.TBoolean(o)?`${f}${a.PatternBoolean}`:r(`Unexpected Kind '${o[a.Kind]}'`)}function i(o){return`^${o.map(f=>n(f,"")).join("")}$`}e.Create=i})($t||(a.TemplateLiteralPattern=$t={}));var Ae;(function(e){function r(t){let n=Qe.ParseExact(t.pattern);if(!Xe.Check(n))return a.Type.String();let i=[...Ye.Generate(n)].map(o=>a.Type.Literal(o));return a.Type.Union(i)}e.Resolve=r})(Ae||(a.TemplateLiteralResolver=Ae={}));var yt=class extends ge{};a.TemplateLiteralParserError=yt;var Qe;(function(e){function r(b,l,T){return b[l]===T&&b.charCodeAt(l-1)!==92}function t(b,l){return r(b,l,"(")}function n(b,l){return r(b,l,")")}function i(b,l){return r(b,l,"|")}function o(b){if(!(t(b,0)&&n(b,b.length-1)))return!1;let l=0;for(let T=0;T<b.length;T++)if(t(b,T)&&(l+=1),n(b,T)&&(l-=1),l===0&&T!==b.length-1)return!1;return!0}function f(b){return b.slice(1,b.length-1)}function p(b){let l=0;for(let T=0;T<b.length;T++)if(t(b,T)&&(l+=1),n(b,T)&&(l-=1),i(b,T)&&l===0)return!0;return!1}function x(b){for(let l=0;l<b.length;l++)if(t(b,l))return!0;return!1}function P(b){let[l,T]=[0,0],m=[];for(let y=0;y<b.length;y++)if(t(b,y)&&(l+=1),n(b,y)&&(l-=1),i(b,y)&&l===0){let w=b.slice(T,y);w.length>0&&m.push(U(w)),T=y+1}let O=b.slice(T);return O.length>0&&m.push(U(O)),m.length===0?{type:"const",const:""}:m.length===1?m[0]:{type:"or",expr:m}}function g(b){function l(O,y){if(!t(O,y))throw new yt("TemplateLiteralParser: Index must point to open parens");let w=0;for(let N=y;N<O.length;N++)if(t(O,N)&&(w+=1),n(O,N)&&(w-=1),w===0)return[y,N];throw new yt("TemplateLiteralParser: Unclosed group parens in expression")}function T(O,y){for(let w=y;w<O.length;w++)if(t(O,w))return[y,w];return[y,O.length]}let m=[];for(let O=0;O<b.length;O++)if(t(b,O)){let[y,w]=l(b,O),N=b.slice(y,w+1);m.push(U(N)),O=w}else{let[y,w]=T(b,O),N=b.slice(y,w);N.length>0&&m.push(U(N)),O=w-1}return m.length===0?{type:"const",const:""}:m.length===1?m[0]:{type:"and",expr:m}}function U(b){return o(b)?U(f(b)):p(b)?P(b):x(b)?g(b):{type:"const",const:b}}e.Parse=U;function M(b){return U(b.slice(1,b.length-1))}e.ParseExact=M})(Qe||(a.TemplateLiteralParser=Qe={}));var Kt=class extends ge{};a.TemplateLiteralFiniteError=Kt;var Xe;(function(e){function r(f){throw new Kt(f)}function t(f){return f.type==="or"&&f.expr.length===2&&f.expr[0].type==="const"&&f.expr[0].const==="0"&&f.expr[1].type==="const"&&f.expr[1].const==="[1-9][0-9]*"}function n(f){return f.type==="or"&&f.expr.length===2&&f.expr[0].type==="const"&&f.expr[0].const==="true"&&f.expr[1].type==="const"&&f.expr[1].const==="false"}function i(f){return f.type==="const"&&f.const===".*"}function o(f){return n(f)?!0:t(f)||i(f)?!1:f.type==="and"?f.expr.every(p=>o(p)):f.type==="or"?f.expr.every(p=>o(p)):f.type==="const"?!0:r("Unknown expression type")}e.Check=o})(Xe||(a.TemplateLiteralFinite=Xe={}));var Bt=class extends ge{};a.TemplateLiteralGeneratorError=Bt;var Ye;(function(e){function*r(f){if(f.length===1)return yield*f[0];for(let p of f[0])for(let x of r(f.slice(1)))yield`${p}${x}`}function*t(f){return yield*r(f.expr.map(p=>[...o(p)]))}function*n(f){for(let p of f.expr)yield*o(p)}function*i(f){return yield f.const}function*o(f){return f.type==="and"?yield*t(f):f.type==="or"?yield*n(f):f.type==="const"?yield*i(f):(()=>{throw new Bt("Unknown expression")})()}e.Generate=o})(Ye||(a.TemplateLiteralGenerator=Ye={}));var Fr;(function(e){function*r(o){let f=o.trim().replace(/"|'/g,"");return f==="boolean"?yield a.Type.Boolean():f==="number"?yield a.Type.Number():f==="bigint"?yield a.Type.BigInt():f==="string"?yield a.Type.String():yield(()=>{let p=f.split("|").map(x=>a.Type.Literal(x.trim()));return p.length===0?a.Type.Never():p.length===1?p[0]:a.Type.Union(p)})()}function*t(o){if(o[1]!=="{"){let f=a.Type.Literal("$"),p=n(o.slice(1));return yield*[f,...p]}for(let f=2;f<o.length;f++)if(o[f]==="}"){let p=r(o.slice(2,f)),x=n(o.slice(f+1));return yield*[...p,...x]}yield a.Type.Literal(o)}function*n(o){for(let f=0;f<o.length;f++)if(o[f]==="$"){let p=a.Type.Literal(o.slice(0,f)),x=t(o.slice(f));return yield*[p,...x]}yield a.Type.Literal(o)}function i(o){return[...n(o)]}e.Parse=i})(Fr||(a.TemplateLiteralDslParser=Fr={}));var Dt=class{constructor(r){this.schema=r}Decode(r){return new Ft(this.schema,r)}};a.TransformDecodeBuilder=Dt;var Ft=class{constructor(r,t){this.schema=r,this.decode=t}Encode(r){let t=L.Type(this.schema);return d.TTransform(t)?(()=>{let o={Encode:f=>t[a.Transform].Encode(r(f)),Decode:f=>this.decode(t[a.Transform].Decode(f))};return{...t,[a.Transform]:o}})():(()=>{let n={Decode:this.decode,Encode:r};return{...t,[a.Transform]:n}})()}};a.TransformEncodeBuilder=Ft;var Ti=0,qt=class extends ge{};a.TypeBuilderError=qt;var _t=class{Create(r){return r}Throw(r){throw new qt(r)}Discard(r,t){return t.reduce((n,i)=>{let{[i]:o,...f}=n;return f},r)}Strict(r){return JSON.parse(JSON.stringify(r))}};a.TypeBuilder=_t;var Tt=class extends _t{ReadonlyOptional(r){return this.Readonly(this.Optional(r))}Readonly(r){return{...L.Type(r),[a.Readonly]:"Readonly"}}Optional(r){return{...L.Type(r),[a.Optional]:"Optional"}}Any(r={}){return this.Create({...r,[a.Kind]:"Any"})}Array(r,t={}){return this.Create({...t,[a.Kind]:"Array",type:"array",items:L.Type(r)})}Boolean(r={}){return this.Create({...r,[a.Kind]:"Boolean",type:"boolean"})}Capitalize(r,t={}){return{...Ze.Map(L.Type(r),"Capitalize"),...t}}Composite(r,t){let n=a.Type.Intersect(r,{}),o=Rt.ResolveKeys(n,{includePatterns:!1}).reduce((f,p)=>({...f,[p]:a.Type.Index(n,[p])}),{});return a.Type.Object(o,t)}Enum(r,t={}){let n=Object.getOwnPropertyNames(r).filter(f=>isNaN(f)).map(f=>r[f]),o=[...new Set(n)].map(f=>a.Type.Literal(f));return this.Union(o,{...t,[a.Hint]:"Enum"})}Extends(r,t,n,i,o={}){switch(ke.Extends(r,t)){case I.Union:return this.Union([L.Type(n,o),L.Type(i,o)]);case I.True:return L.Type(n,o);case I.False:return L.Type(i,o)}}Exclude(r,t,n={}){return d.TTemplateLiteral(r)?this.Exclude(Ae.Resolve(r),t,n):d.TTemplateLiteral(t)?this.Exclude(r,Ae.Resolve(t),n):d.TUnion(r)?(()=>{let i=r.anyOf.filter(o=>ke.Extends(o,t)===I.False);return i.length===1?L.Type(i[0],n):this.Union(i,n)})():ke.Extends(r,t)!==I.False?this.Never(n):L.Type(r,n)}Extract(r,t,n={}){return d.TTemplateLiteral(r)?this.Extract(Ae.Resolve(r),t,n):d.TTemplateLiteral(t)?this.Extract(r,Ae.Resolve(t),n):d.TUnion(r)?(()=>{let i=r.anyOf.filter(o=>ke.Extends(o,t)!==I.False);return i.length===1?L.Type(i[0],n):this.Union(i,n)})():ke.Extends(r,t)!==I.False?L.Type(r,n):this.Never(n)}Index(r,t,n={}){return d.TArray(r)&&d.TNumber(t)?(()=>L.Type(r.items,n))():d.TTuple(r)&&d.TNumber(t)?(()=>{let o=(j.IsUndefined(r.items)?[]:r.items).map(f=>L.Type(f));return this.Union(o,n)})():(()=>{let i=pt.Resolve(t),o=L.Type(r);return Br.Resolve(o,i,n)})()}Integer(r={}){return this.Create({...r,[a.Kind]:"Integer",type:"integer"})}Intersect(r,t={}){if(r.length===0)return a.Type.Never();if(r.length===1)return L.Type(r[0],t);r.some(f=>d.TTransform(f))&&this.Throw("Cannot intersect transform types");let n=r.every(f=>d.TObject(f)),i=L.Rest(r),o=d.TSchema(t.unevaluatedProperties)?{unevaluatedProperties:L.Type(t.unevaluatedProperties)}:{};return t.unevaluatedProperties===!1||d.TSchema(t.unevaluatedProperties)||n?this.Create({...t,...o,[a.Kind]:"Intersect",type:"object",allOf:i}):this.Create({...t,...o,[a.Kind]:"Intersect",allOf:i})}KeyOf(r,t={}){return d.TRecord(r)?(()=>{let n=Object.getOwnPropertyNames(r.patternProperties)[0];return n===a.PatternNumberExact?this.Number(t):n===a.PatternStringExact?this.String(t):this.Throw("Unable to resolve key type from Record key pattern")})():d.TTuple(r)?(()=>{let i=(j.IsUndefined(r.items)?[]:r.items).map((o,f)=>a.Type.Literal(f.toString()));return this.Union(i,t)})():d.TArray(r)?(()=>this.Number(t))():(()=>{let n=Rt.ResolveKeys(r,{includePatterns:!1});if(n.length===0)return this.Never(t);let i=n.map(o=>this.Literal(o));return this.Union(i,t)})()}Literal(r,t={}){return this.Create({...t,[a.Kind]:"Literal",const:r,type:typeof r})}Lowercase(r,t={}){return{...Ze.Map(L.Type(r),"Lowercase"),...t}}Never(r={}){return this.Create({...r,[a.Kind]:"Never",not:{}})}Not(r,t){return this.Create({...t,[a.Kind]:"Not",not:L.Type(r)})}Null(r={}){return this.Create({...r,[a.Kind]:"Null",type:"null"})}Number(r={}){return this.Create({...r,[a.Kind]:"Number",type:"number"})}Object(r,t={}){let n=Object.getOwnPropertyNames(r),i=n.filter(x=>d.TOptional(r[x])),o=n.filter(x=>!i.includes(x)),f=d.TSchema(t.additionalProperties)?{additionalProperties:L.Type(t.additionalProperties)}:{},p=n.reduce((x,P)=>({...x,[P]:L.Type(r[P])}),{});return o.length>0?this.Create({...t,...f,[a.Kind]:"Object",type:"object",properties:p,required:o}):this.Create({...t,...f,[a.Kind]:"Object",type:"object",properties:p})}Omit(r,t,n={}){let i=pt.Resolve(t);return We.Map(this.Discard(L.Type(r),["$id",a.Transform]),o=>{j.IsArray(o.required)&&(o.required=o.required.filter(f=>!i.includes(f)),o.required.length===0&&delete o.required);for(let f of Object.getOwnPropertyNames(o.properties))i.includes(f)&&delete o.properties[f];return this.Create(o)},n)}Partial(r,t={}){return We.Map(this.Discard(L.Type(r),["$id",a.Transform]),n=>{let i=Object.getOwnPropertyNames(n.properties).reduce((o,f)=>({...o,[f]:this.Optional(n.properties[f])}),{});return this.Object(i,this.Discard(n,["required"]))},t)}Pick(r,t,n={}){let i=pt.Resolve(t);return We.Map(this.Discard(L.Type(r),["$id",a.Transform]),o=>{j.IsArray(o.required)&&(o.required=o.required.filter(f=>i.includes(f)),o.required.length===0&&delete o.required);for(let f of Object.getOwnPropertyNames(o.properties))i.includes(f)||delete o.properties[f];return this.Create(o)},n)}Record(r,t,n={}){return d.TTemplateLiteral(r)?(()=>{let i=Qe.ParseExact(r.pattern);return Xe.Check(i)?this.Object([...Ye.Generate(i)].reduce((o,f)=>({...o,[f]:L.Type(t)}),{}),n):this.Create({...n,[a.Kind]:"Record",type:"object",patternProperties:{[r.pattern]:L.Type(t)}})})():d.TUnion(r)?(()=>{let i=Dr.Resolve(r);if(d.TUnionLiteral(i)){let o=i.anyOf.reduce((f,p)=>({...f,[p.const]:L.Type(t)}),{});return this.Object(o,{...n,[a.Hint]:"Record"})}else this.Throw("Record key of type union contains non-literal types")})():d.TLiteral(r)?(()=>j.IsString(r.const)||j.IsNumber(r.const)?this.Object({[r.const]:L.Type(t)},n):this.Throw("Record key of type literal is not of type string or number"))():d.TInteger(r)||d.TNumber(r)?(()=>this.Create({...n,[a.Kind]:"Record",type:"object",patternProperties:{[a.PatternNumberExact]:L.Type(t)}}))():d.TString(r)?(()=>{let i=j.IsUndefined(r.pattern)?a.PatternStringExact:r.pattern;return this.Create({...n,[a.Kind]:"Record",type:"object",patternProperties:{[i]:L.Type(t)}})})():this.Never()}Recursive(r,t={}){j.IsUndefined(t.$id)&&(t.$id=`T${Ti++}`);let n=r({[a.Kind]:"This",$ref:`${t.$id}`});return n.$id=t.$id,this.Create({...t,[a.Hint]:"Recursive",...n})}Ref(r,t={}){return j.IsString(r)?this.Create({...t,[a.Kind]:"Ref",$ref:r}):(j.IsUndefined(r.$id)&&this.Throw("Reference target type must specify an $id"),this.Create({...t,[a.Kind]:"Ref",$ref:r.$id}))}Required(r,t={}){return We.Map(this.Discard(L.Type(r),["$id",a.Transform]),n=>{let i=Object.getOwnPropertyNames(n.properties).reduce((o,f)=>({...o,[f]:this.Discard(n.properties[f],[a.Optional])}),{});return this.Object(i,n)},t)}Rest(r){return d.TTuple(r)&&!j.IsUndefined(r.items)?L.Rest(r.items):d.TIntersect(r)?L.Rest(r.allOf):d.TUnion(r)?L.Rest(r.anyOf):[]}String(r={}){return this.Create({...r,[a.Kind]:"String",type:"string"})}TemplateLiteral(r,t={}){let n=j.IsString(r)?$t.Create(Fr.Parse(r)):$t.Create(r);return this.Create({...t,[a.Kind]:"TemplateLiteral",type:"string",pattern:n})}Transform(r){return new Dt(r)}Tuple(r,t={}){let[n,i,o]=[!1,r.length,r.length],f=L.Rest(r),p=r.length>0?{...t,[a.Kind]:"Tuple",type:"array",items:f,additionalItems:n,minItems:i,maxItems:o}:{...t,[a.Kind]:"Tuple",type:"array",minItems:i,maxItems:o};return this.Create(p)}Uncapitalize(r,t={}){return{...Ze.Map(L.Type(r),"Uncapitalize"),...t}}Union(r,t={}){return d.TTemplateLiteral(r)?Ae.Resolve(r):(()=>{let n=r;if(n.length===0)return this.Never(t);if(n.length===1)return this.Create(L.Type(n[0],t));let i=L.Rest(n);return this.Create({...t,[a.Kind]:"Union",anyOf:i})})()}Unknown(r={}){return this.Create({...r,[a.Kind]:"Unknown"})}Unsafe(r={}){return this.Create({...r,[a.Kind]:r[a.Kind]||"Unsafe"})}Uppercase(r,t={}){return{...Ze.Map(L.Type(r),"Uppercase"),...t}}};a.JsonTypeBuilder=Tt;var kt=class extends Tt{AsyncIterator(r,t={}){return this.Create({...t,[a.Kind]:"AsyncIterator",type:"AsyncIterator",items:L.Type(r)})}Awaited(r,t={}){let n=i=>i.length>0?(()=>{let[o,...f]=i;return[this.Awaited(o),...n(f)]})():i;return d.TIntersect(r)?a.Type.Intersect(n(r.allOf)):d.TUnion(r)?a.Type.Union(n(r.anyOf)):d.TPromise(r)?this.Awaited(r.item):L.Type(r,t)}BigInt(r={}){return this.Create({...r,[a.Kind]:"BigInt",type:"bigint"})}ConstructorParameters(r,t={}){return this.Tuple([...r.parameters],{...t})}Constructor(r,t,n){let[i,o]=[L.Rest(r),L.Type(t)];return this.Create({...n,[a.Kind]:"Constructor",type:"Constructor",parameters:i,returns:o})}Date(r={}){return this.Create({...r,[a.Kind]:"Date",type:"Date"})}Function(r,t,n){let[i,o]=[L.Rest(r),L.Type(t)];return this.Create({...n,[a.Kind]:"Function",type:"Function",parameters:i,returns:o})}InstanceType(r,t={}){return L.Type(r.returns,t)}Iterator(r,t={}){return this.Create({...t,[a.Kind]:"Iterator",type:"Iterator",items:L.Type(r)})}Parameters(r,t={}){return this.Tuple(r.parameters,{...t})}Promise(r,t={}){return this.Create({...t,[a.Kind]:"Promise",type:"Promise",item:L.Type(r)})}RegExp(r,t={}){let n=j.IsString(r)?r:r.source;return this.Create({...t,[a.Kind]:"String",type:"string",pattern:n})}RegEx(r,t={}){return this.RegExp(r,t)}ReturnType(r,t={}){return L.Type(r.returns,t)}Symbol(r){return this.Create({...r,[a.Kind]:"Symbol",type:"symbol"})}Undefined(r={}){return this.Create({...r,[a.Kind]:"Undefined",type:"undefined"})}Uint8Array(r={}){return this.Create({...r,[a.Kind]:"Uint8Array",type:"Uint8Array"})}Void(r={}){return this.Create({...r,[a.Kind]:"Void",type:"void"})}};a.JavaScriptTypeBuilder=kt;a.JsonType=new Tt;a.Type=new kt});var de=z(K=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0});K.IsValueType=K.IsSymbol=K.IsFunction=K.IsString=K.IsBigInt=K.IsInteger=K.IsNumber=K.IsBoolean=K.IsNull=K.IsUndefined=K.IsArray=K.IsObject=K.IsPlainObject=K.HasPropertyKey=K.IsDate=K.IsUint8Array=K.IsPromise=K.IsTypedArray=K.IsIterator=K.IsAsyncIterator=void 0;function Ii(e){return Ht(e)&&Symbol.asyncIterator in e}K.IsAsyncIterator=Ii;function mi(e){return Ht(e)&&Symbol.iterator in e}K.IsIterator=mi;function bi(e){return ArrayBuffer.isView(e)}K.IsTypedArray=bi;function Oi(e){return e instanceof Promise}K.IsPromise=Oi;function gi(e){return e instanceof Uint8Array}K.IsUint8Array=gi;function Pi(e){return e instanceof Date&&Number.isFinite(e.getTime())}K.IsDate=Pi;function xi(e,r){return r in e}K.HasPropertyKey=xi;function Ui(e){return Ht(e)&&ln(e.constructor)&&e.constructor.name==="Object"}K.IsPlainObject=Ui;function Ht(e){return e!==null&&typeof e=="object"}K.IsObject=Ht;function wi(e){return Array.isArray(e)&&!ArrayBuffer.isView(e)}K.IsArray=wi;function sn(e){return e===void 0}K.IsUndefined=sn;function cn(e){return e===null}K.IsNull=cn;function fn(e){return typeof e=="boolean"}K.IsBoolean=fn;function qr(e){return typeof e=="number"}K.IsNumber=qr;function Ni(e){return qr(e)&&Number.isInteger(e)}K.IsInteger=Ni;function an(e){return typeof e=="bigint"}K.IsBigInt=an;function dn(e){return typeof e=="string"}K.IsString=dn;function ln(e){return typeof e=="function"}K.IsFunction=ln;function pn(e){return typeof e=="symbol"}K.IsSymbol=pn;function ji(e){return an(e)||fn(e)||cn(e)||qr(e)||dn(e)||pn(e)||sn(e)}K.IsValueType=ji});var kr=z(fe=>{"use strict";Object.defineProperty(fe,"__esModule",{value:!0});fe.DefaultErrorFunction=fe.TypeSystemPolicy=fe.TypeSystemErrorFunction=fe.TypeSystem=fe.TypeSystemDuplicateFormat=fe.TypeSystemDuplicateTypeKind=void 0;var Vt=de(),R=Jt(),Se=Pe(),Gt=class extends Se.TypeBoxError{constructor(r){super(`Duplicate type kind '${r}' detected`)}};fe.TypeSystemDuplicateTypeKind=Gt;var zt=class extends Se.TypeBoxError{constructor(r){super(`Duplicate string format '${r}' detected`)}};fe.TypeSystemDuplicateFormat=zt;var yn;(function(e){function r(n,i){if(Se.TypeRegistry.Has(n))throw new Gt(n);return Se.TypeRegistry.Set(n,i),(o={})=>Se.Type.Unsafe({...o,[Se.Kind]:n})}e.Type=r;function t(n,i){if(Se.FormatRegistry.Has(n))throw new zt(n);return Se.FormatRegistry.Set(n,i),n}e.Format=t})(yn||(fe.TypeSystem=yn={}));var Tn;(function(e){let r=_r;function t(){r=_r}e.Reset=t;function n(o){r=o}e.Set=n;function i(){return r}e.Get=i})(Tn||(fe.TypeSystemErrorFunction=Tn={}));var In;(function(e){e.ExactOptionalPropertyTypes=!1,e.AllowArrayObject=!1,e.AllowNaN=!1,e.AllowNullVoid=!1;function r(f,p){return e.ExactOptionalPropertyTypes?p in f:f[p]!==void 0}e.IsExactOptionalProperty=r;function t(f){let p=(0,Vt.IsObject)(f);return e.AllowArrayObject?p:p&&!(0,Vt.IsArray)(f)}e.IsObjectLike=t;function n(f){return t(f)&&!(f instanceof Date)&&!(f instanceof Uint8Array)}e.IsRecordLike=n;function i(f){let p=(0,Vt.IsNumber)(f);return e.AllowNaN?p:p&&Number.isFinite(f)}e.IsNumberLike=i;function o(f){let p=(0,Vt.IsUndefined)(f);return e.AllowNullVoid?p||f===null:p}e.IsVoidLike=o})(In||(fe.TypeSystemPolicy=In={}));function _r(e,r){switch(r){case R.ValueErrorType.ArrayContains:return"Expected array to contain at least one matching value";case R.ValueErrorType.ArrayMaxContains:return`Expected array to contain no more than ${e.maxContains} matching values`;case R.ValueErrorType.ArrayMinContains:return`Expected array to contain at least ${e.minContains} matching values`;case R.ValueErrorType.ArrayMaxItems:return`Expected array length to be less or equal to ${e.maxItems}`;case R.ValueErrorType.ArrayMinItems:return`Expected array length to be greater or equal to ${e.minItems}`;case R.ValueErrorType.ArrayUniqueItems:return"Expected array elements to be unique";case R.ValueErrorType.Array:return"Expected array";case R.ValueErrorType.AsyncIterator:return"Expected AsyncIterator";case R.ValueErrorType.BigIntExclusiveMaximum:return`Expected bigint to be less than ${e.exclusiveMaximum}`;case R.ValueErrorType.BigIntExclusiveMinimum:return`Expected bigint to be greater than ${e.exclusiveMinimum}`;case R.ValueErrorType.BigIntMaximum:return`Expected bigint to be less or equal to ${e.maximum}`;case R.ValueErrorType.BigIntMinimum:return`Expected bigint to be greater or equal to ${e.minimum}`;case R.ValueErrorType.BigIntMultipleOf:return`Expected bigint to be a multiple of ${e.multipleOf}`;case R.ValueErrorType.BigInt:return"Expected bigint";case R.ValueErrorType.Boolean:return"Expected boolean";case R.ValueErrorType.DateExclusiveMinimumTimestamp:return`Expected Date timestamp to be greater than ${e.exclusiveMinimumTimestamp}`;case R.ValueErrorType.DateExclusiveMaximumTimestamp:return`Expected Date timestamp to be less than ${e.exclusiveMaximumTimestamp}`;case R.ValueErrorType.DateMinimumTimestamp:return`Expected Date timestamp to be greater or equal to ${e.minimumTimestamp}`;case R.ValueErrorType.DateMaximumTimestamp:return`Expected Date timestamp to be less or equal to ${e.maximumTimestamp}`;case R.ValueErrorType.DateMultipleOfTimestamp:return`Expected Date timestamp to be a multiple of ${e.multipleOfTimestamp}`;case R.ValueErrorType.Date:return"Expected Date";case R.ValueErrorType.Function:return"Expected function";case R.ValueErrorType.IntegerExclusiveMaximum:return`Expected integer to be less than ${e.exclusiveMaximum}`;case R.ValueErrorType.IntegerExclusiveMinimum:return`Expected integer to be greater than ${e.exclusiveMinimum}`;case R.ValueErrorType.IntegerMaximum:return`Expected integer to be less or equal to ${e.maximum}`;case R.ValueErrorType.IntegerMinimum:return`Expected integer to be greater or equal to ${e.minimum}`;case R.ValueErrorType.IntegerMultipleOf:return`Expected integer to be a multiple of ${e.multipleOf}`;case R.ValueErrorType.Integer:return"Expected integer";case R.ValueErrorType.IntersectUnevaluatedProperties:return"Unexpected property";case R.ValueErrorType.Intersect:return"Expected all values to match";case R.ValueErrorType.Iterator:return"Expected Iterator";case R.ValueErrorType.Literal:return`Expected ${typeof e.const=="string"?`'${e.const}'`:e.const}`;case R.ValueErrorType.Never:return"Never";case R.ValueErrorType.Not:return"Value should not match";case R.ValueErrorType.Null:return"Expected null";case R.ValueErrorType.NumberExclusiveMaximum:return`Expected number to be less than ${e.exclusiveMaximum}`;case R.ValueErrorType.NumberExclusiveMinimum:return`Expected number to be greater than ${e.exclusiveMinimum}`;case R.ValueErrorType.NumberMaximum:return`Expected number to be less or equal to ${e.maximum}`;case R.ValueErrorType.NumberMinimum:return`Expected number to be greater or equal to ${e.minimum}`;case R.ValueErrorType.NumberMultipleOf:return`Expected number to be a multiple of ${e.multipleOf}`;case R.ValueErrorType.Number:return"Expected number";case R.ValueErrorType.Object:return"Expected object";case R.ValueErrorType.ObjectAdditionalProperties:return"Unexpected property";case R.ValueErrorType.ObjectMaxProperties:return`Expected object to have no more than ${e.maxProperties} properties`;case R.ValueErrorType.ObjectMinProperties:return`Expected object to have at least ${e.minProperties} properties`;case R.ValueErrorType.ObjectRequiredProperty:return"Required property";case R.ValueErrorType.Promise:return"Expected Promise";case R.ValueErrorType.StringFormatUnknown:return`Unknown format '${e.format}'`;case R.ValueErrorType.StringFormat:return`Expected string to match '${e.format}' format`;case R.ValueErrorType.StringMaxLength:return`Expected string length less or equal to ${e.maxLength}`;case R.ValueErrorType.StringMinLength:return`Expected string length greater or equal to ${e.minLength}`;case R.ValueErrorType.StringPattern:return`Expected string to match '${e.pattern}'`;case R.ValueErrorType.String:return"Expected string";case R.ValueErrorType.Symbol:return"Expected symbol";case R.ValueErrorType.TupleLength:return`Expected tuple to have ${e.maxItems||0} elements`;case R.ValueErrorType.Tuple:return"Expected tuple";case R.ValueErrorType.Uint8ArrayMaxByteLength:return`Expected byte length less or equal to ${e.maxByteLength}`;case R.ValueErrorType.Uint8ArrayMinByteLength:return`Expected byte length greater or equal to ${e.minByteLength}`;case R.ValueErrorType.Uint8Array:return"Expected Uint8Array";case R.ValueErrorType.Undefined:return"Expected undefined";case R.ValueErrorType.Union:return"Expected union value";case R.ValueErrorType.Void:return"Expected void";case R.ValueErrorType.Kind:return`Expected kind '${e[Se.Kind]}'`;default:return"Unknown error type"}}fe.DefaultErrorFunction=_r});var He=z(ve=>{"use strict";Object.defineProperty(ve,"__esModule",{value:!0});ve.Deref=ve.TypeDereferenceError=void 0;var Ai=Pe(),Zt=class extends Ai.TypeBoxError{constructor(r){super(`Unable to dereference schema with $id '${r.$id}'`),this.schema=r}};ve.TypeDereferenceError=Zt;function Si(e,r){let t=r.findIndex(n=>n.$id===e.$ref);if(t===-1)throw new Zt(e);return r[t]}ve.Deref=Si});var Qt=z($e=>{"use strict";Object.defineProperty($e,"__esModule",{value:!0});$e.Hash=$e.ByteMarker=$e.ValueHashError=void 0;var xe=de(),Wt=class extends Error{constructor(r){super("Unable to hash value"),this.value=r}};$e.ValueHashError=Wt;var le;(function(e){e[e.Undefined=0]="Undefined",e[e.Null=1]="Null",e[e.Boolean=2]="Boolean",e[e.Number=3]="Number",e[e.String=4]="String",e[e.Object=5]="Object",e[e.Array=6]="Array",e[e.Date=7]="Date",e[e.Uint8Array=8]="Uint8Array",e[e.Symbol=9]="Symbol",e[e.BigInt=10]="BigInt"})(le||($e.ByteMarker=le={}));var he=BigInt("14695981039346656037"),[Ci,Ei]=[BigInt("1099511628211"),BigInt("2")**BigInt("64")],Ri=Array.from({length:256}).map((e,r)=>BigInt(r)),mn=new Float64Array(1),bn=new DataView(mn.buffer),On=new Uint8Array(mn.buffer);function*Li(e){let r=e===0?1:Math.ceil(Math.floor(Math.log2(e)+1)/8);for(let t=0;t<r;t++)yield e>>8*(r-1-t)&255}function Mi(e){ie(le.Array);for(let r of e)et(r)}function $i(e){ie(le.Boolean),ie(e?1:0)}function Ki(e){ie(le.BigInt),bn.setBigInt64(0,e);for(let r of On)ie(r)}function Bi(e){ie(le.Date),et(e.getTime())}function Di(e){ie(le.Null)}function Fi(e){ie(le.Number),bn.setFloat64(0,e);for(let r of On)ie(r)}function qi(e){ie(le.Object);for(let r of globalThis.Object.keys(e).sort())et(r),et(e[r])}function _i(e){ie(le.String);for(let r=0;r<e.length;r++)for(let t of Li(e.charCodeAt(r)))ie(t)}function ki(e){ie(le.Symbol),et(e.description)}function Hi(e){ie(le.Uint8Array);for(let r=0;r<e.length;r++)ie(e[r])}function Vi(e){return ie(le.Undefined)}function et(e){if((0,xe.IsArray)(e))return Mi(e);if((0,xe.IsBoolean)(e))return $i(e);if((0,xe.IsBigInt)(e))return Ki(e);if((0,xe.IsDate)(e))return Bi(e);if((0,xe.IsNull)(e))return Di(e);if((0,xe.IsNumber)(e))return Fi(e);if((0,xe.IsPlainObject)(e))return qi(e);if((0,xe.IsString)(e))return _i(e);if((0,xe.IsSymbol)(e))return ki(e);if((0,xe.IsUint8Array)(e))return Hi(e);if((0,xe.IsUndefined)(e))return Vi(e);throw new Wt(e)}function ie(e){he=he^Ri[e],he=he*Ci%Ei}function Gi(e){return he=BigInt("14695981039346656037"),et(e),he}$e.Hash=Gi});var Jt=z(Ne=>{"use strict";Object.defineProperty(Ne,"__esModule",{value:!0});Ne.Errors=Ne.ValueErrorIterator=Ne.ValueErrorsUnknownTypeError=Ne.ValueErrorType=void 0;var J=de(),tt=kr(),gn=He(),zi=Qt(),Ie=Pe(),A;(function(e){e[e.ArrayContains=0]="ArrayContains",e[e.ArrayMaxContains=1]="ArrayMaxContains",e[e.ArrayMaxItems=2]="ArrayMaxItems",e[e.ArrayMinContains=3]="ArrayMinContains",e[e.ArrayMinItems=4]="ArrayMinItems",e[e.ArrayUniqueItems=5]="ArrayUniqueItems",e[e.Array=6]="Array",e[e.AsyncIterator=7]="AsyncIterator",e[e.BigIntExclusiveMaximum=8]="BigIntExclusiveMaximum",e[e.BigIntExclusiveMinimum=9]="BigIntExclusiveMinimum",e[e.BigIntMaximum=10]="BigIntMaximum",e[e.BigIntMinimum=11]="BigIntMinimum",e[e.BigIntMultipleOf=12]="BigIntMultipleOf",e[e.BigInt=13]="BigInt",e[e.Boolean=14]="Boolean",e[e.DateExclusiveMaximumTimestamp=15]="DateExclusiveMaximumTimestamp",e[e.DateExclusiveMinimumTimestamp=16]="DateExclusiveMinimumTimestamp",e[e.DateMaximumTimestamp=17]="DateMaximumTimestamp",e[e.DateMinimumTimestamp=18]="DateMinimumTimestamp",e[e.DateMultipleOfTimestamp=19]="DateMultipleOfTimestamp",e[e.Date=20]="Date",e[e.Function=21]="Function",e[e.IntegerExclusiveMaximum=22]="IntegerExclusiveMaximum",e[e.IntegerExclusiveMinimum=23]="IntegerExclusiveMinimum",e[e.IntegerMaximum=24]="IntegerMaximum",e[e.IntegerMinimum=25]="IntegerMinimum",e[e.IntegerMultipleOf=26]="IntegerMultipleOf",e[e.Integer=27]="Integer",e[e.IntersectUnevaluatedProperties=28]="IntersectUnevaluatedProperties",e[e.Intersect=29]="Intersect",e[e.Iterator=30]="Iterator",e[e.Kind=31]="Kind",e[e.Literal=32]="Literal",e[e.Never=33]="Never",e[e.Not=34]="Not",e[e.Null=35]="Null",e[e.NumberExclusiveMaximum=36]="NumberExclusiveMaximum",e[e.NumberExclusiveMinimum=37]="NumberExclusiveMinimum",e[e.NumberMaximum=38]="NumberMaximum",e[e.NumberMinimum=39]="NumberMinimum",e[e.NumberMultipleOf=40]="NumberMultipleOf",e[e.Number=41]="Number",e[e.ObjectAdditionalProperties=42]="ObjectAdditionalProperties",e[e.ObjectMaxProperties=43]="ObjectMaxProperties",e[e.ObjectMinProperties=44]="ObjectMinProperties",e[e.ObjectRequiredProperty=45]="ObjectRequiredProperty",e[e.Object=46]="Object",e[e.Promise=47]="Promise",e[e.StringFormatUnknown=48]="StringFormatUnknown",e[e.StringFormat=49]="StringFormat",e[e.StringMaxLength=50]="StringMaxLength",e[e.StringMinLength=51]="StringMinLength",e[e.StringPattern=52]="StringPattern",e[e.String=53]="String",e[e.Symbol=54]="Symbol",e[e.TupleLength=55]="TupleLength",e[e.Tuple=56]="Tuple",e[e.Uint8ArrayMaxByteLength=57]="Uint8ArrayMaxByteLength",e[e.Uint8ArrayMinByteLength=58]="Uint8ArrayMinByteLength",e[e.Uint8Array=59]="Uint8Array",e[e.Undefined=60]="Undefined",e[e.Union=61]="Union",e[e.Void=62]="Void"})(A||(Ne.ValueErrorType=A={}));var Xt=class extends Ie.TypeBoxError{constructor(r){super("Unknown type"),this.schema=r}};Ne.ValueErrorsUnknownTypeError=Xt;function B(e){return e!==void 0}var Yt=class{constructor(r){this.iterator=r}[Symbol.iterator](){return this.iterator}First(){let r=this.iterator.next();return r.done?void 0:r.value}};Ne.ValueErrorIterator=Yt;function S(e,r,t,n){return{type:e,schema:r,path:t,value:n,message:tt.TypeSystemErrorFunction.Get()(r,e)}}function*Ji(e,r,t,n){}function*Zi(e,r,t,n){if(!(0,J.IsArray)(n))return yield S(A.Array,e,t,n);B(e.minItems)&&!(n.length>=e.minItems)&&(yield S(A.ArrayMinItems,e,t,n)),B(e.maxItems)&&!(n.length<=e.maxItems)&&(yield S(A.ArrayMaxItems,e,t,n));for(let f=0;f<n.length;f++)yield*ee(e.items,r,`${t}/${f}`,n[f]);if(e.uniqueItems===!0&&!function(){let f=new Set;for(let p of n){let x=(0,zi.Hash)(p);if(f.has(x))return!1;f.add(x)}return!0}()&&(yield S(A.ArrayUniqueItems,e,t,n)),!(B(e.contains)||B(e.minContains)||B(e.maxContains)))return;let i=B(e.contains)?e.contains:Ie.Type.Never(),o=n.reduce((f,p,x)=>ee(i,r,`${t}${x}`,p).next().done===!0?f+1:f,0);o===0&&(yield S(A.ArrayContains,e,t,n)),(0,J.IsNumber)(e.minContains)&&o<e.minContains&&(yield S(A.ArrayMinContains,e,t,n)),(0,J.IsNumber)(e.maxContains)&&o>e.maxContains&&(yield S(A.ArrayMaxContains,e,t,n))}function*Wi(e,r,t,n){(0,J.IsAsyncIterator)(n)||(yield S(A.AsyncIterator,e,t,n))}function*Qi(e,r,t,n){if(!(0,J.IsBigInt)(n))return yield S(A.BigInt,e,t,n);B(e.exclusiveMaximum)&&!(n<e.exclusiveMaximum)&&(yield S(A.BigIntExclusiveMaximum,e,t,n)),B(e.exclusiveMinimum)&&!(n>e.exclusiveMinimum)&&(yield S(A.BigIntExclusiveMinimum,e,t,n)),B(e.maximum)&&!(n<=e.maximum)&&(yield S(A.BigIntMaximum,e,t,n)),B(e.minimum)&&!(n>=e.minimum)&&(yield S(A.BigIntMinimum,e,t,n)),B(e.multipleOf)&&n%e.multipleOf!==BigInt(0)&&(yield S(A.BigIntMultipleOf,e,t,n))}function*Xi(e,r,t,n){(0,J.IsBoolean)(n)||(yield S(A.Boolean,e,t,n))}function*Yi(e,r,t,n){yield*ee(e.returns,r,t,n.prototype)}function*vi(e,r,t,n){if(!(0,J.IsDate)(n))return yield S(A.Date,e,t,n);B(e.exclusiveMaximumTimestamp)&&!(n.getTime()<e.exclusiveMaximumTimestamp)&&(yield S(A.DateExclusiveMaximumTimestamp,e,t,n)),B(e.exclusiveMinimumTimestamp)&&!(n.getTime()>e.exclusiveMinimumTimestamp)&&(yield S(A.DateExclusiveMinimumTimestamp,e,t,n)),B(e.maximumTimestamp)&&!(n.getTime()<=e.maximumTimestamp)&&(yield S(A.DateMaximumTimestamp,e,t,n)),B(e.minimumTimestamp)&&!(n.getTime()>=e.minimumTimestamp)&&(yield S(A.DateMinimumTimestamp,e,t,n)),B(e.multipleOfTimestamp)&&n.getTime()%e.multipleOfTimestamp!==0&&(yield S(A.DateMultipleOfTimestamp,e,t,n))}function*hi(e,r,t,n){(0,J.IsFunction)(n)||(yield S(A.Function,e,t,n))}function*eo(e,r,t,n){if(!(0,J.IsInteger)(n))return yield S(A.Integer,e,t,n);B(e.exclusiveMaximum)&&!(n<e.exclusiveMaximum)&&(yield S(A.IntegerExclusiveMaximum,e,t,n)),B(e.exclusiveMinimum)&&!(n>e.exclusiveMinimum)&&(yield S(A.IntegerExclusiveMinimum,e,t,n)),B(e.maximum)&&!(n<=e.maximum)&&(yield S(A.IntegerMaximum,e,t,n)),B(e.minimum)&&!(n>=e.minimum)&&(yield S(A.IntegerMinimum,e,t,n)),B(e.multipleOf)&&n%e.multipleOf!==0&&(yield S(A.IntegerMultipleOf,e,t,n))}function*to(e,r,t,n){for(let i of e.allOf){let o=ee(i,r,t,n).next();o.done||(yield S(A.Intersect,e,t,n),yield o.value)}if(e.unevaluatedProperties===!1){let i=new RegExp(Ie.KeyResolver.ResolvePattern(e));for(let o of Object.getOwnPropertyNames(n))i.test(o)||(yield S(A.IntersectUnevaluatedProperties,e,`${t}/${o}`,n))}if(typeof e.unevaluatedProperties=="object"){let i=new RegExp(Ie.KeyResolver.ResolvePattern(e));for(let o of Object.getOwnPropertyNames(n))if(!i.test(o)){let f=ee(e.unevaluatedProperties,r,`${t}/${o}`,n[o]).next();f.done||(yield f.value)}}}function*ro(e,r,t,n){(0,J.IsIterator)(n)||(yield S(A.Iterator,e,t,n))}function*no(e,r,t,n){n!==e.const&&(yield S(A.Literal,e,t,n))}function*io(e,r,t,n){yield S(A.Never,e,t,n)}function*oo(e,r,t,n){ee(e.not,r,t,n).next().done===!0&&(yield S(A.Not,e,t,n))}function*uo(e,r,t,n){(0,J.IsNull)(n)||(yield S(A.Null,e,t,n))}function*so(e,r,t,n){if(!tt.TypeSystemPolicy.IsNumberLike(n))return yield S(A.Number,e,t,n);B(e.exclusiveMaximum)&&!(n<e.exclusiveMaximum)&&(yield S(A.NumberExclusiveMaximum,e,t,n)),B(e.exclusiveMinimum)&&!(n>e.exclusiveMinimum)&&(yield S(A.NumberExclusiveMinimum,e,t,n)),B(e.maximum)&&!(n<=e.maximum)&&(yield S(A.NumberMaximum,e,t,n)),B(e.minimum)&&!(n>=e.minimum)&&(yield S(A.NumberMinimum,e,t,n)),B(e.multipleOf)&&n%e.multipleOf!==0&&(yield S(A.NumberMultipleOf,e,t,n))}function*co(e,r,t,n){if(!tt.TypeSystemPolicy.IsObjectLike(n))return yield S(A.Object,e,t,n);B(e.minProperties)&&!(Object.getOwnPropertyNames(n).length>=e.minProperties)&&(yield S(A.ObjectMinProperties,e,t,n)),B(e.maxProperties)&&!(Object.getOwnPropertyNames(n).length<=e.maxProperties)&&(yield S(A.ObjectMaxProperties,e,t,n));let i=Array.isArray(e.required)?e.required:[],o=Object.getOwnPropertyNames(e.properties),f=Object.getOwnPropertyNames(n);for(let p of i)f.includes(p)||(yield S(A.ObjectRequiredProperty,e.properties[p],`${t}/${p}`,void 0));if(e.additionalProperties===!1)for(let p of f)o.includes(p)||(yield S(A.ObjectAdditionalProperties,e,`${t}/${p}`,n[p]));if(typeof e.additionalProperties=="object")for(let p of f)o.includes(p)||(yield*ee(e.additionalProperties,r,`${t}/${p}`,n[p]));for(let p of o){let x=e.properties[p];e.required&&e.required.includes(p)?(yield*ee(x,r,`${t}/${p}`,n[p]),Ie.ExtendsUndefined.Check(e)&&!(p in n)&&(yield S(A.ObjectRequiredProperty,x,`${t}/${p}`,void 0))):tt.TypeSystemPolicy.IsExactOptionalProperty(n,p)&&(yield*ee(x,r,`${t}/${p}`,n[p]))}}function*fo(e,r,t,n){(0,J.IsPromise)(n)||(yield S(A.Promise,e,t,n))}function*ao(e,r,t,n){if(!tt.TypeSystemPolicy.IsRecordLike(n))return yield S(A.Object,e,t,n);B(e.minProperties)&&!(Object.getOwnPropertyNames(n).length>=e.minProperties)&&(yield S(A.ObjectMinProperties,e,t,n)),B(e.maxProperties)&&!(Object.getOwnPropertyNames(n).length<=e.maxProperties)&&(yield S(A.ObjectMaxProperties,e,t,n));let[i,o]=Object.entries(e.patternProperties)[0],f=new RegExp(i);for(let[p,x]of Object.entries(n))f.test(p)&&(yield*ee(o,r,`${t}/${p}`,x));if(typeof e.additionalProperties=="object")for(let[p,x]of Object.entries(n))f.test(p)||(yield*ee(e.additionalProperties,r,`${t}/${p}`,x));if(e.additionalProperties===!1){for(let[p,x]of Object.entries(n))if(!f.test(p))return yield S(A.ObjectAdditionalProperties,e,`${t}/${p}`,x)}}function*lo(e,r,t,n){yield*ee((0,gn.Deref)(e,r),r,t,n)}function*po(e,r,t,n){if(!(0,J.IsString)(n))return yield S(A.String,e,t,n);B(e.minLength)&&!(n.length>=e.minLength)&&(yield S(A.StringMinLength,e,t,n)),B(e.maxLength)&&!(n.length<=e.maxLength)&&(yield S(A.StringMaxLength,e,t,n)),(0,J.IsString)(e.pattern)&&(new RegExp(e.pattern).test(n)||(yield S(A.StringPattern,e,t,n))),(0,J.IsString)(e.format)&&(Ie.FormatRegistry.Has(e.format)?Ie.FormatRegistry.Get(e.format)(n)||(yield S(A.StringFormat,e,t,n)):yield S(A.StringFormatUnknown,e,t,n))}function*yo(e,r,t,n){(0,J.IsSymbol)(n)||(yield S(A.Symbol,e,t,n))}function*To(e,r,t,n){if(!(0,J.IsString)(n))return yield S(A.String,e,t,n);new RegExp(e.pattern).test(n)||(yield S(A.StringPattern,e,t,n))}function*Io(e,r,t,n){yield*ee((0,gn.Deref)(e,r),r,t,n)}function*mo(e,r,t,n){if(!(0,J.IsArray)(n))return yield S(A.Tuple,e,t,n);if(e.items===void 0&&n.length!==0)return yield S(A.TupleLength,e,t,n);if(n.length!==e.maxItems)return yield S(A.TupleLength,e,t,n);if(e.items)for(let i=0;i<e.items.length;i++)yield*ee(e.items[i],r,`${t}/${i}`,n[i])}function*bo(e,r,t,n){(0,J.IsUndefined)(n)||(yield S(A.Undefined,e,t,n))}function*Oo(e,r,t,n){let i=0;for(let o of e.anyOf){let f=[...ee(o,r,t,n)];if(f.length===0)return;i+=f.length}i>0&&(yield S(A.Union,e,t,n))}function*go(e,r,t,n){if(!(0,J.IsUint8Array)(n))return yield S(A.Uint8Array,e,t,n);B(e.maxByteLength)&&!(n.length<=e.maxByteLength)&&(yield S(A.Uint8ArrayMaxByteLength,e,t,n)),B(e.minByteLength)&&!(n.length>=e.minByteLength)&&(yield S(A.Uint8ArrayMinByteLength,e,t,n))}function*Po(e,r,t,n){}function*xo(e,r,t,n){tt.TypeSystemPolicy.IsVoidLike(n)||(yield S(A.Void,e,t,n))}function*Uo(e,r,t,n){Ie.TypeRegistry.Get(e[Ie.Kind])(e,n)||(yield S(A.Kind,e,t,n))}function*ee(e,r,t,n){let i=B(e.$id)?[...r,e]:r,o=e;switch(o[Ie.Kind]){case"Any":return yield*Ji(o,i,t,n);case"Array":return yield*Zi(o,i,t,n);case"AsyncIterator":return yield*Wi(o,i,t,n);case"BigInt":return yield*Qi(o,i,t,n);case"Boolean":return yield*Xi(o,i,t,n);case"Constructor":return yield*Yi(o,i,t,n);case"Date":return yield*vi(o,i,t,n);case"Function":return yield*hi(o,i,t,n);case"Integer":return yield*eo(o,i,t,n);case"Intersect":return yield*to(o,i,t,n);case"Iterator":return yield*ro(o,i,t,n);case"Literal":return yield*no(o,i,t,n);case"Never":return yield*io(o,i,t,n);case"Not":return yield*oo(o,i,t,n);case"Null":return yield*uo(o,i,t,n);case"Number":return yield*so(o,i,t,n);case"Object":return yield*co(o,i,t,n);case"Promise":return yield*fo(o,i,t,n);case"Record":return yield*ao(o,i,t,n);case"Ref":return yield*lo(o,i,t,n);case"String":return yield*po(o,i,t,n);case"Symbol":return yield*yo(o,i,t,n);case"TemplateLiteral":return yield*To(o,i,t,n);case"This":return yield*Io(o,i,t,n);case"Tuple":return yield*mo(o,i,t,n);case"Undefined":return yield*bo(o,i,t,n);case"Union":return yield*Oo(o,i,t,n);case"Uint8Array":return yield*go(o,i,t,n);case"Unknown":return yield*Po(o,i,t,n);case"Void":return yield*xo(o,i,t,n);default:if(!Ie.TypeRegistry.Has(o[Ie.Kind]))throw new Xt(e);return yield*Uo(o,i,t,n)}}function wo(...e){let r=e.length===3?ee(e[0],e[1],"",e[2]):ee(e[0],[],"",e[1]);return new Yt(r)}Ne.Errors=wo});var Hr=z(Ve=>{"use strict";var No=Ve&&Ve.__createBinding||(Object.create?function(e,r,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(r,t);(!i||("get"in i?!r.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(e,n,i)}:function(e,r,t,n){n===void 0&&(n=t),e[n]=r[t]}),jo=Ve&&Ve.__exportStar||function(e,r){for(var t in e)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&No(r,e,t)};Object.defineProperty(Ve,"__esModule",{value:!0});jo(Jt(),Ve)});var er=z(Ke=>{"use strict";Object.defineProperty(Ke,"__esModule",{value:!0});Ke.ValuePointer=Ke.ValuePointerRootDeleteError=Ke.ValuePointerRootSetError=void 0;var vt=class extends Error{constructor(r,t,n){super("Cannot set root value"),this.value=r,this.path=t,this.update=n}};Ke.ValuePointerRootSetError=vt;var ht=class extends Error{constructor(r,t){super("Cannot delete root value"),this.value=r,this.path=t}};Ke.ValuePointerRootDeleteError=ht;var Pn;(function(e){function r(p){return p.indexOf("~")===-1?p:p.replace(/~1/g,"/").replace(/~0/g,"~")}function*t(p){if(p==="")return;let[x,P]=[0,0];for(let g=0;g<p.length;g++)p.charAt(g)==="/"?(g===0||(P=g,yield r(p.slice(x,P))),x=g+1):P=g;yield r(p.slice(x))}e.Format=t;function n(p,x,P){if(x==="")throw new vt(p,x,P);let[g,U,M]=[null,p,""];for(let b of t(x))U[b]===void 0&&(U[b]={}),g=U,U=U[b],M=b;g[M]=P}e.Set=n;function i(p,x){if(x==="")throw new ht(p,x);let[P,g,U]=[null,p,""];for(let M of t(x)){if(g[M]===void 0||g[M]===null)return;P=g,g=g[M],U=M}if(Array.isArray(P)){let M=parseInt(U);P.splice(M,1)}else delete P[U]}e.Delete=i;function o(p,x){if(x==="")return!0;let[P,g,U]=[null,p,""];for(let M of t(x)){if(g[M]===void 0)return!1;P=g,g=g[M],U=M}return Object.getOwnPropertyNames(P).includes(U)}e.Has=o;function f(p,x){if(x==="")return p;let P=p;for(let g of t(x)){if(P[g]===void 0)return;P=P[g]}return P}e.Get=f})(Pn||(Ke.ValuePointer=Pn={}))});var rt=z(tr=>{"use strict";Object.defineProperty(tr,"__esModule",{value:!0});tr.Clone=void 0;var It=de();function Ao(e){return[...Object.getOwnPropertyNames(e),...Object.getOwnPropertySymbols(e)].reduce((t,n)=>({...t,[n]:Vr(e[n])}),{})}function So(e){return e.map(r=>Vr(r))}function Co(e){return e.slice()}function Eo(e){return new Date(e.toISOString())}function Vr(e){if((0,It.IsArray)(e))return So(e);if((0,It.IsDate)(e))return Eo(e);if((0,It.IsPlainObject)(e))return Ao(e);if((0,It.IsTypedArray)(e))return Co(e);if((0,It.IsValueType)(e))return e;throw new Error("ValueClone: Unable to clone value")}tr.Clone=Vr});var Jr=z(G=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0});G.Patch=G.Diff=G.ValueDeltaUnableToDiffUnknownValue=G.ValueDeltaObjectWithSymbolKeyError=G.Edit=G.Delete=G.Update=G.Insert=void 0;var oe=de(),me=Pe(),Gr=er(),zr=rt();G.Insert=me.Type.Object({type:me.Type.Literal("insert"),path:me.Type.String(),value:me.Type.Unknown()});G.Update=me.Type.Object({type:me.Type.Literal("update"),path:me.Type.String(),value:me.Type.Unknown()});G.Delete=me.Type.Object({type:me.Type.Literal("delete"),path:me.Type.String()});G.Edit=me.Type.Union([G.Insert,G.Update,G.Delete]);var Ge=class extends Error{constructor(r){super("Cannot diff objects with symbol keys"),this.key=r}};G.ValueDeltaObjectWithSymbolKeyError=Ge;var rr=class extends Error{constructor(r){super("Unable to create diff edits for unknown value"),this.value=r}};G.ValueDeltaUnableToDiffUnknownValue=rr;function mt(e,r){return{type:"update",path:e,value:r}}function xn(e,r){return{type:"insert",path:e,value:r}}function Un(e){return{type:"delete",path:e}}function*Ro(e,r,t){if(!(0,oe.IsPlainObject)(t))return yield mt(e,t);let n=[...Object.keys(r),...Object.getOwnPropertySymbols(r)],i=[...Object.keys(t),...Object.getOwnPropertySymbols(t)];for(let o of n){if((0,oe.IsSymbol)(o))throw new Ge(o);(0,oe.IsUndefined)(t[o])&&i.includes(o)&&(yield mt(`${e}/${String(o)}`,void 0))}for(let o of i)if(!((0,oe.IsUndefined)(r[o])||(0,oe.IsUndefined)(t[o]))){if((0,oe.IsSymbol)(o))throw new Ge(o);yield*nr(`${e}/${String(o)}`,r[o],t[o])}for(let o of i){if((0,oe.IsSymbol)(o))throw new Ge(o);(0,oe.IsUndefined)(r[o])&&(yield xn(`${e}/${String(o)}`,t[o]))}for(let o of n.reverse()){if((0,oe.IsSymbol)(o))throw new Ge(o);(0,oe.IsUndefined)(t[o])&&!i.includes(o)&&(yield Un(`${e}/${String(o)}`))}}function*Lo(e,r,t){if(!(0,oe.IsArray)(t))return yield mt(e,t);for(let n=0;n<Math.min(r.length,t.length);n++)yield*nr(`${e}/${n}`,r[n],t[n]);for(let n=0;n<t.length;n++)n<r.length||(yield xn(`${e}/${n}`,t[n]));for(let n=r.length-1;n>=0;n--)n<t.length||(yield Un(`${e}/${n}`))}function*Mo(e,r,t){if(!(0,oe.IsTypedArray)(t)||r.length!==t.length||Object.getPrototypeOf(r).constructor.name!==Object.getPrototypeOf(t).constructor.name)return yield mt(e,t);for(let n=0;n<Math.min(r.length,t.length);n++)yield*nr(`${e}/${n}`,r[n],t[n])}function*$o(e,r,t){r!==t&&(yield mt(e,t))}function*nr(e,r,t){if((0,oe.IsPlainObject)(r))return yield*Ro(e,r,t);if((0,oe.IsArray)(r))return yield*Lo(e,r,t);if((0,oe.IsTypedArray)(r))return yield*Mo(e,r,t);if((0,oe.IsValueType)(r))return yield*$o(e,r,t);throw new rr(r)}function Ko(e,r){return[...nr("",e,r)]}G.Diff=Ko;function Bo(e){return e.length>0&&e[0].path===""&&e[0].type==="update"}function Do(e){return e.length===0}function Fo(e,r){if(Bo(r))return(0,zr.Clone)(r[0].value);if(Do(r))return(0,zr.Clone)(e);let t=(0,zr.Clone)(e);for(let n of r)switch(n.type){case"insert":{Gr.ValuePointer.Set(t,n.path,n.value);break}case"update":{Gr.ValuePointer.Set(t,n.path,n.value);break}case"delete":{Gr.ValuePointer.Delete(t,n.path);break}}return t}G.Patch=Fo});var Nn=z(Be=>{"use strict";Object.defineProperty(Be,"__esModule",{value:!0});Be.Mutate=Be.ValueMutateInvalidRootMutationError=Be.ValueMutateTypeMismatchError=void 0;var pe=de(),ur=er(),Zr=rt(),ir=class extends Error{constructor(){super("Cannot assign due type mismatch of assignable values")}};Be.ValueMutateTypeMismatchError=ir;var or=class extends Error{constructor(){super("Only object and array types can be mutated at the root level")}};Be.ValueMutateInvalidRootMutationError=or;function qo(e,r,t,n){if(!(0,pe.IsPlainObject)(t))ur.ValuePointer.Set(e,r,(0,Zr.Clone)(n));else{let i=Object.keys(t),o=Object.keys(n);for(let f of i)o.includes(f)||delete t[f];for(let f of o)i.includes(f)||(t[f]=null);for(let f of o)Wr(e,`${r}/${f}`,t[f],n[f])}}function _o(e,r,t,n){if(!(0,pe.IsArray)(t))ur.ValuePointer.Set(e,r,(0,Zr.Clone)(n));else{for(let i=0;i<n.length;i++)Wr(e,`${r}/${i}`,t[i],n[i]);t.splice(n.length)}}function ko(e,r,t,n){if((0,pe.IsTypedArray)(t)&&t.length===n.length)for(let i=0;i<t.length;i++)t[i]=n[i];else ur.ValuePointer.Set(e,r,(0,Zr.Clone)(n))}function Ho(e,r,t,n){t!==n&&ur.ValuePointer.Set(e,r,n)}function Wr(e,r,t,n){if((0,pe.IsArray)(n))return _o(e,r,t,n);if((0,pe.IsTypedArray)(n))return ko(e,r,t,n);if((0,pe.IsPlainObject)(n))return qo(e,r,t,n);if((0,pe.IsValueType)(n))return Ho(e,r,t,n)}function wn(e){return(0,pe.IsTypedArray)(e)||(0,pe.IsValueType)(e)}function Vo(e,r){return(0,pe.IsPlainObject)(e)&&(0,pe.IsArray)(r)||(0,pe.IsArray)(e)&&(0,pe.IsPlainObject)(r)}function Go(e,r){if(wn(e)||wn(r))throw new or;if(Vo(e,r))throw new ir;Wr(e,"",e,r)}Be.Mutate=Go});var jn=z(cr=>{"use strict";Object.defineProperty(cr,"__esModule",{value:!0});cr.Equal=void 0;var Ce=de();function zo(e,r){if(!(0,Ce.IsPlainObject)(r))return!1;let t=[...Object.keys(e),...Object.getOwnPropertySymbols(e)],n=[...Object.keys(r),...Object.getOwnPropertySymbols(r)];return t.length!==n.length?!1:t.every(i=>sr(e[i],r[i]))}function Jo(e,r){return(0,Ce.IsDate)(r)&&e.getTime()===r.getTime()}function Zo(e,r){return!(0,Ce.IsArray)(r)||e.length!==r.length?!1:e.every((t,n)=>sr(t,r[n]))}function Wo(e,r){return!(0,Ce.IsTypedArray)(r)||e.length!==r.length||Object.getPrototypeOf(e).constructor.name!==Object.getPrototypeOf(r).constructor.name?!1:e.every((t,n)=>sr(t,r[n]))}function Qo(e,r){return e===r}function sr(e,r){if((0,Ce.IsPlainObject)(e))return zo(e,r);if((0,Ce.IsDate)(e))return Jo(e,r);if((0,Ce.IsTypedArray)(e))return Wo(e,r);if((0,Ce.IsArray)(e))return Zo(e,r);if((0,Ce.IsValueType)(e))return Qo(e,r);throw new Error("ValueEquals: Unable to compare value")}cr.Equal=sr});var An=z(Ee=>{"use strict";var Xo=Ee&&Ee.__createBinding||(Object.create?function(e,r,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(r,t);(!i||("get"in i?!r.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(e,n,i)}:function(e,r,t,n){n===void 0&&(n=t),e[n]=r[t]}),Yo=Ee&&Ee.__exportStar||function(e,r){for(var t in e)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&Xo(r,e,t)};Object.defineProperty(Ee,"__esModule",{value:!0});Ee.ValueErrorType=void 0;var vo=Jt();Object.defineProperty(Ee,"ValueErrorType",{enumerable:!0,get:function(){return vo.ValueErrorType}});Yo(kr(),Ee)});var Ot=z(nt=>{"use strict";Object.defineProperty(nt,"__esModule",{value:!0});nt.Check=nt.ValueCheckUnknownTypeError=void 0;var Z=de(),bt=An(),Sn=He(),ho=Qt(),te=Pe(),fr=class extends te.TypeBoxError{constructor(r){super("Unknown type"),this.schema=r}};nt.ValueCheckUnknownTypeError=fr;function eu(e){return e[te.Kind]==="Any"||e[te.Kind]==="Unknown"}function D(e){return e!==void 0}function tu(e,r,t){return!0}function ru(e,r,t){if(!(0,Z.IsArray)(t)||D(e.minItems)&&!(t.length>=e.minItems)||D(e.maxItems)&&!(t.length<=e.maxItems)||!t.every(o=>re(e.items,r,o))||e.uniqueItems===!0&&!function(){let o=new Set;for(let f of t){let p=(0,ho.Hash)(f);if(o.has(p))return!1;o.add(p)}return!0}())return!1;if(!(D(e.contains)||(0,Z.IsNumber)(e.minContains)||(0,Z.IsNumber)(e.maxContains)))return!0;let n=D(e.contains)?e.contains:te.Type.Never(),i=t.reduce((o,f)=>re(n,r,f)?o+1:o,0);return!(i===0||(0,Z.IsNumber)(e.minContains)&&i<e.minContains||(0,Z.IsNumber)(e.maxContains)&&i>e.maxContains)}function nu(e,r,t){return(0,Z.IsAsyncIterator)(t)}function iu(e,r,t){return!(!(0,Z.IsBigInt)(t)||D(e.exclusiveMaximum)&&!(t<e.exclusiveMaximum)||D(e.exclusiveMinimum)&&!(t>e.exclusiveMinimum)||D(e.maximum)&&!(t<=e.maximum)||D(e.minimum)&&!(t>=e.minimum)||D(e.multipleOf)&&t%e.multipleOf!==BigInt(0))}function ou(e,r,t){return(0,Z.IsBoolean)(t)}function uu(e,r,t){return re(e.returns,r,t.prototype)}function su(e,r,t){return!(!(0,Z.IsDate)(t)||D(e.exclusiveMaximumTimestamp)&&!(t.getTime()<e.exclusiveMaximumTimestamp)||D(e.exclusiveMinimumTimestamp)&&!(t.getTime()>e.exclusiveMinimumTimestamp)||D(e.maximumTimestamp)&&!(t.getTime()<=e.maximumTimestamp)||D(e.minimumTimestamp)&&!(t.getTime()>=e.minimumTimestamp)||D(e.multipleOfTimestamp)&&t.getTime()%e.multipleOfTimestamp!==0)}function cu(e,r,t){return(0,Z.IsFunction)(t)}function fu(e,r,t){return!(!(0,Z.IsInteger)(t)||D(e.exclusiveMaximum)&&!(t<e.exclusiveMaximum)||D(e.exclusiveMinimum)&&!(t>e.exclusiveMinimum)||D(e.maximum)&&!(t<=e.maximum)||D(e.minimum)&&!(t>=e.minimum)||D(e.multipleOf)&&t%e.multipleOf!==0)}function au(e,r,t){let n=e.allOf.every(i=>re(i,r,t));if(e.unevaluatedProperties===!1){let i=new RegExp(te.KeyResolver.ResolvePattern(e)),o=Object.getOwnPropertyNames(t).every(f=>i.test(f));return n&&o}else if(te.TypeGuard.TSchema(e.unevaluatedProperties)){let i=new RegExp(te.KeyResolver.ResolvePattern(e)),o=Object.getOwnPropertyNames(t).every(f=>i.test(f)||re(e.unevaluatedProperties,r,t[f]));return n&&o}else return n}function du(e,r,t){return(0,Z.IsIterator)(t)}function lu(e,r,t){return t===e.const}function pu(e,r,t){return!1}function yu(e,r,t){return!re(e.not,r,t)}function Tu(e,r,t){return(0,Z.IsNull)(t)}function Iu(e,r,t){return!(!bt.TypeSystemPolicy.IsNumberLike(t)||D(e.exclusiveMaximum)&&!(t<e.exclusiveMaximum)||D(e.exclusiveMinimum)&&!(t>e.exclusiveMinimum)||D(e.minimum)&&!(t>=e.minimum)||D(e.maximum)&&!(t<=e.maximum)||D(e.multipleOf)&&t%e.multipleOf!==0)}function mu(e,r,t){if(!bt.TypeSystemPolicy.IsObjectLike(t)||D(e.minProperties)&&!(Object.getOwnPropertyNames(t).length>=e.minProperties)||D(e.maxProperties)&&!(Object.getOwnPropertyNames(t).length<=e.maxProperties))return!1;let n=Object.getOwnPropertyNames(e.properties);for(let i of n){let o=e.properties[i];if(e.required&&e.required.includes(i)){if(!re(o,r,t[i])||(te.ExtendsUndefined.Check(o)||eu(o))&&!(i in t))return!1}else if(bt.TypeSystemPolicy.IsExactOptionalProperty(t,i)&&!re(o,r,t[i]))return!1}if(e.additionalProperties===!1){let i=Object.getOwnPropertyNames(t);return e.required&&e.required.length===n.length&&i.length===n.length?!0:i.every(o=>n.includes(o))}else return typeof e.additionalProperties=="object"?Object.getOwnPropertyNames(t).every(o=>n.includes(o)||re(e.additionalProperties,r,t[o])):!0}function bu(e,r,t){return(0,Z.IsPromise)(t)}function Ou(e,r,t){if(!bt.TypeSystemPolicy.IsRecordLike(t)||D(e.minProperties)&&!(Object.getOwnPropertyNames(t).length>=e.minProperties)||D(e.maxProperties)&&!(Object.getOwnPropertyNames(t).length<=e.maxProperties))return!1;let[n,i]=Object.entries(e.patternProperties)[0],o=new RegExp(n),f=Object.entries(t).every(([P,g])=>o.test(P)?re(i,r,g):!0),p=typeof e.additionalProperties=="object"?Object.entries(t).every(([P,g])=>o.test(P)?!0:re(e.additionalProperties,r,g)):!0,x=e.additionalProperties===!1?Object.getOwnPropertyNames(t).every(P=>o.test(P)):!0;return f&&p&&x}function gu(e,r,t){return re((0,Sn.Deref)(e,r),r,t)}function Pu(e,r,t){return!(0,Z.IsString)(t)||D(e.minLength)&&!(t.length>=e.minLength)||D(e.maxLength)&&!(t.length<=e.maxLength)||D(e.pattern)&&!new RegExp(e.pattern).test(t)?!1:D(e.format)?te.FormatRegistry.Has(e.format)?te.FormatRegistry.Get(e.format)(t):!1:!0}function xu(e,r,t){return(0,Z.IsSymbol)(t)}function Uu(e,r,t){return(0,Z.IsString)(t)&&new RegExp(e.pattern).test(t)}function wu(e,r,t){return re((0,Sn.Deref)(e,r),r,t)}function Nu(e,r,t){if(!(0,Z.IsArray)(t)||e.items===void 0&&t.length!==0||t.length!==e.maxItems)return!1;if(!e.items)return!0;for(let n=0;n<e.items.length;n++)if(!re(e.items[n],r,t[n]))return!1;return!0}function ju(e,r,t){return(0,Z.IsUndefined)(t)}function Au(e,r,t){return e.anyOf.some(n=>re(n,r,t))}function Su(e,r,t){return!(!(0,Z.IsUint8Array)(t)||D(e.maxByteLength)&&!(t.length<=e.maxByteLength)||D(e.minByteLength)&&!(t.length>=e.minByteLength))}function Cu(e,r,t){return!0}function Eu(e,r,t){return bt.TypeSystemPolicy.IsVoidLike(t)}function Ru(e,r,t){return te.TypeRegistry.Has(e[te.Kind])?te.TypeRegistry.Get(e[te.Kind])(e,t):!1}function re(e,r,t){let n=D(e.$id)?[...r,e]:r,i=e;switch(i[te.Kind]){case"Any":return tu(i,n,t);case"Array":return ru(i,n,t);case"AsyncIterator":return nu(i,n,t);case"BigInt":return iu(i,n,t);case"Boolean":return ou(i,n,t);case"Constructor":return uu(i,n,t);case"Date":return su(i,n,t);case"Function":return cu(i,n,t);case"Integer":return fu(i,n,t);case"Intersect":return au(i,n,t);case"Iterator":return du(i,n,t);case"Literal":return lu(i,n,t);case"Never":return pu(i,n,t);case"Not":return yu(i,n,t);case"Null":return Tu(i,n,t);case"Number":return Iu(i,n,t);case"Object":return mu(i,n,t);case"Promise":return bu(i,n,t);case"Record":return Ou(i,n,t);case"Ref":return gu(i,n,t);case"String":return Pu(i,n,t);case"Symbol":return xu(i,n,t);case"TemplateLiteral":return Uu(i,n,t);case"This":return wu(i,n,t);case"Tuple":return Nu(i,n,t);case"Undefined":return ju(i,n,t);case"Union":return Au(i,n,t);case"Uint8Array":return Su(i,n,t);case"Unknown":return Cu(i,n,t);case"Void":return Eu(i,n,t);default:if(!te.TypeRegistry.Has(i[te.Kind]))throw new fr(i);return Ru(i,n,t)}}function Lu(...e){return e.length===3?re(e[0],e[1],e[2]):re(e[0],[],e[1])}nt.Check=Lu});var Qr=z(ue=>{"use strict";Object.defineProperty(ue,"__esModule",{value:!0});ue.Create=ue.ValueCreateRecursiveInstantiationError=ue.ValueCreateTempateLiteralTypeError=ue.ValueCreateIntersectTypeError=ue.ValueCreateNotTypeError=ue.ValueCreateNeverTypeError=ue.ValueCreateUnknownTypeError=void 0;var F=de(),Mu=Ot(),En=He(),ae=Pe(),ar=class extends ae.TypeBoxError{constructor(r){super("Unknown type"),this.schema=r}};ue.ValueCreateUnknownTypeError=ar;var dr=class extends ae.TypeBoxError{constructor(r){super("Never types cannot be created"),this.schema=r}};ue.ValueCreateNeverTypeError=dr;var lr=class extends ae.TypeBoxError{constructor(r){super("Not types must have a default value"),this.schema=r}};ue.ValueCreateNotTypeError=lr;var pr=class extends ae.TypeBoxError{constructor(r){super("Intersect produced invalid value. Consider using a default value."),this.schema=r}};ue.ValueCreateIntersectTypeError=pr;var yr=class extends ae.TypeBoxError{constructor(r){super("Can only create template literal values from patterns that produce finite sequences. Consider using a default value."),this.schema=r}};ue.ValueCreateTempateLiteralTypeError=yr;var Tr=class extends ae.TypeBoxError{constructor(r,t){super("Value cannot be created as recursive type may produce value of infinite size. Consider using a default."),this.schema=r,this.recursiveMaxDepth=t}};ue.ValueCreateRecursiveInstantiationError=Tr;function $u(e,r){return(0,F.HasPropertyKey)(e,"default")?e.default:{}}function Ku(e,r){if(e.uniqueItems===!0&&!(0,F.HasPropertyKey)(e,"default"))throw new Error("ValueCreate.Array: Array with the uniqueItems constraint requires a default value");if("contains"in e&&!(0,F.HasPropertyKey)(e,"default"))throw new Error("ValueCreate.Array: Array with the contains constraint requires a default value");return"default"in e?e.default:e.minItems!==void 0?Array.from({length:e.minItems}).map(t=>ye(e.items,r)):[]}function Bu(e,r){return(0,F.HasPropertyKey)(e,"default")?e.default:async function*(){}()}function Du(e,r){return(0,F.HasPropertyKey)(e,"default")?e.default:BigInt(0)}function Fu(e,r){return(0,F.HasPropertyKey)(e,"default")?e.default:!1}function qu(e,r){if((0,F.HasPropertyKey)(e,"default"))return e.default;{let t=ye(e.returns,r);return typeof t=="object"&&!Array.isArray(t)?class{constructor(){for(let[n,i]of Object.entries(t)){let o=this;o[n]=i}}}:class{}}}function _u(e,r){return(0,F.HasPropertyKey)(e,"default")?e.default:e.minimumTimestamp!==void 0?new Date(e.minimumTimestamp):new Date(0)}function ku(e,r){return(0,F.HasPropertyKey)(e,"default")?e.default:()=>ye(e.returns,r)}function Hu(e,r){return(0,F.HasPropertyKey)(e,"default")?e.default:e.minimum!==void 0?e.minimum:0}function Vu(e,r){if((0,F.HasPropertyKey)(e,"default"))return e.default;{let t=e.allOf.reduce((n,i)=>{let o=ye(i,r);return typeof o=="object"?{...n,...o}:o},{});if(!(0,Mu.Check)(e,r,t))throw new pr(e);return t}}function Gu(e,r){return(0,F.HasPropertyKey)(e,"default")?e.default:function*(){}()}function zu(e,r){return(0,F.HasPropertyKey)(e,"default")?e.default:e.const}function Ju(e,r){throw new dr(e)}function Zu(e,r){if((0,F.HasPropertyKey)(e,"default"))return e.default;throw new lr(e)}function Wu(e,r){return(0,F.HasPropertyKey)(e,"default")?e.default:null}function Qu(e,r){return(0,F.HasPropertyKey)(e,"default")?e.default:e.minimum!==void 0?e.minimum:0}function Xu(e,r){if((0,F.HasPropertyKey)(e,"default"))return e.default;{let t=new Set(e.required);return e.default||Object.entries(e.properties).reduce((n,[i,o])=>t.has(i)?{...n,[i]:ye(o,r)}:{...n},{})}}function Yu(e,r){return(0,F.HasPropertyKey)(e,"default")?e.default:Promise.resolve(ye(e.item,r))}function vu(e,r){let[t,n]=Object.entries(e.patternProperties)[0];return(0,F.HasPropertyKey)(e,"default")?e.default:t===ae.PatternStringExact||t===ae.PatternNumberExact?{}:t.slice(1,t.length-1).split("|").reduce((o,f)=>({...o,[f]:ye(n,r)}),{})}function hu(e,r){return(0,F.HasPropertyKey)(e,"default")?e.default:ye((0,En.Deref)(e,r),r)}function es(e,r){if(e.pattern!==void 0){if((0,F.HasPropertyKey)(e,"default"))return e.default;throw new Error("ValueCreate.String: String types with patterns must specify a default value")}else if(e.format!==void 0){if((0,F.HasPropertyKey)(e,"default"))return e.default;throw new Error("ValueCreate.String: String types with formats must specify a default value")}else return(0,F.HasPropertyKey)(e,"default")?e.default:e.minLength!==void 0?Array.from({length:e.minLength}).map(()=>".").join(""):""}function ts(e,r){return(0,F.HasPropertyKey)(e,"default")?e.default:"value"in e?Symbol.for(e.value):Symbol()}function rs(e,r){if((0,F.HasPropertyKey)(e,"default"))return e.default;let t=ae.TemplateLiteralParser.ParseExact(e.pattern);if(!ae.TemplateLiteralFinite.Check(t))throw new yr(e);return ae.TemplateLiteralGenerator.Generate(t).next().value}function ns(e,r){if(Rn++>Cn)throw new Tr(e,Cn);return(0,F.HasPropertyKey)(e,"default")?e.default:ye((0,En.Deref)(e,r),r)}function is(e,r){return(0,F.HasPropertyKey)(e,"default")?e.default:e.items===void 0?[]:Array.from({length:e.minItems}).map((t,n)=>ye(e.items[n],r))}function os(e,r){if((0,F.HasPropertyKey)(e,"default"))return e.default}function us(e,r){if((0,F.HasPropertyKey)(e,"default"))return e.default;if(e.anyOf.length===0)throw new Error("ValueCreate.Union: Cannot create Union with zero variants");return ye(e.anyOf[0],r)}function ss(e,r){return(0,F.HasPropertyKey)(e,"default")?e.default:e.minByteLength!==void 0?new Uint8Array(e.minByteLength):new Uint8Array(0)}function cs(e,r){return(0,F.HasPropertyKey)(e,"default")?e.default:{}}function fs(e,r){if((0,F.HasPropertyKey)(e,"default"))return e.default}function as(e,r){if((0,F.HasPropertyKey)(e,"default"))return e.default;throw new Error("User defined types must specify a default value")}function ye(e,r){let t=(0,F.IsString)(e.$id)?[...r,e]:r,n=e;switch(n[ae.Kind]){case"Any":return $u(n,t);case"Array":return Ku(n,t);case"AsyncIterator":return Bu(n,t);case"BigInt":return Du(n,t);case"Boolean":return Fu(n,t);case"Constructor":return qu(n,t);case"Date":return _u(n,t);case"Function":return ku(n,t);case"Integer":return Hu(n,t);case"Intersect":return Vu(n,t);case"Iterator":return Gu(n,t);case"Literal":return zu(n,t);case"Never":return Ju(n,t);case"Not":return Zu(n,t);case"Null":return Wu(n,t);case"Number":return Qu(n,t);case"Object":return Xu(n,t);case"Promise":return Yu(n,t);case"Record":return vu(n,t);case"Ref":return hu(n,t);case"String":return es(n,t);case"Symbol":return ts(n,t);case"TemplateLiteral":return rs(n,t);case"This":return ns(n,t);case"Tuple":return is(n,t);case"Undefined":return os(n,t);case"Union":return us(n,t);case"Uint8Array":return ss(n,t);case"Unknown":return cs(n,t);case"Void":return fs(n,t);default:if(!ae.TypeRegistry.Has(n[ae.Kind]))throw new ar(n);return as(n,t)}}var Cn=512,Rn=0;function ds(...e){return Rn=0,e.length===2?ye(e[0],e[1]):ye(e[0],[])}ue.Create=ds});var Kn=z(se=>{"use strict";Object.defineProperty(se,"__esModule",{value:!0});se.Cast=se.Default=se.DefaultClone=se.ValueCastUnknownTypeError=se.ValueCastRecursiveTypeError=se.ValueCastNeverTypeError=se.ValueCastArrayUniqueItemsTypeError=void 0;var De=de(),Le=Qr(),be=Ot(),it=rt(),Ln=He(),Re=Pe(),Ir=class extends Re.TypeBoxError{constructor(r,t){super("Array cast produced invalid data due to uniqueItems constraint"),this.schema=r,this.value=t}};se.ValueCastArrayUniqueItemsTypeError=Ir;var mr=class extends Re.TypeBoxError{constructor(r){super("Never types cannot be cast"),this.schema=r}};se.ValueCastNeverTypeError=mr;var Xr=class extends Re.TypeBoxError{constructor(r){super("Cannot cast recursive schemas"),this.schema=r}};se.ValueCastRecursiveTypeError=Xr;var br=class extends Re.TypeBoxError{constructor(r){super("Unknown type"),this.schema=r}};se.ValueCastUnknownTypeError=br;var Yr;(function(e){function r(i,o,f){if(i[Re.Kind]==="Object"&&typeof f=="object"&&!(0,De.IsNull)(f)){let p=i,x=Object.getOwnPropertyNames(f),P=Object.entries(p.properties),[g,U]=[1/P.length,P.length];return P.reduce((M,[b,l])=>{let T=l[Re.Kind]==="Literal"&&l.const===f[b]?U:0,m=(0,be.Check)(l,o,f[b])?g:0,O=x.includes(b)?g:0;return M+(T+m+O)},0)}else return(0,be.Check)(i,o,f)?1:0}function t(i,o,f){let[p,x]=[i.anyOf[0],0];for(let P of i.anyOf){let g=r(P,o,f);g>x&&(p=P,x=g)}return p}function n(i,o,f){if("default"in i)return i.default;{let p=t(i,o,f);return $n(p,o,f)}}e.Create=n})(Yr||(Yr={}));function Mn(e,r,t){return(0,be.Check)(e,r,t)?(0,it.Clone)(t):(0,Le.Create)(e,r)}se.DefaultClone=Mn;function vr(e,r,t){return(0,be.Check)(e,r,t)?t:(0,Le.Create)(e,r)}se.Default=vr;function ls(e,r,t){if((0,be.Check)(e,r,t))return(0,it.Clone)(t);let n=(0,De.IsArray)(t)?(0,it.Clone)(t):(0,Le.Create)(e,r),i=(0,De.IsNumber)(e.minItems)&&n.length<e.minItems?[...n,...Array.from({length:e.minItems-n.length},()=>null)]:n,f=((0,De.IsNumber)(e.maxItems)&&i.length>e.maxItems?i.slice(0,e.maxItems):i).map(x=>je(e.items,r,x));if(e.uniqueItems!==!0)return f;let p=[...new Set(f)];if(!(0,be.Check)(e,r,p))throw new Ir(e,p);return p}function ps(e,r,t){if((0,be.Check)(e,r,t))return(0,Le.Create)(e,r);let n=new Set(e.returns.required||[]),i=function(){};for(let[o,f]of Object.entries(e.returns.properties))!n.has(o)&&t.prototype[o]===void 0||(i.prototype[o]=je(f,r,t.prototype[o]));return i}function ys(e,r,t){let n=(0,Le.Create)(e,r),i=(0,De.IsPlainObject)(n)&&(0,De.IsPlainObject)(t)?{...n,...t}:t;return(0,be.Check)(e,r,i)?i:(0,Le.Create)(e,r)}function Ts(e,r,t){throw new mr(e)}function Is(e,r,t){if((0,be.Check)(e,r,t))return t;if(t===null||typeof t!="object")return(0,Le.Create)(e,r);let n=new Set(e.required||[]),i={};for(let[o,f]of Object.entries(e.properties))!n.has(o)&&t[o]===void 0||(i[o]=je(f,r,t[o]));if(typeof e.additionalProperties=="object"){let o=Object.getOwnPropertyNames(e.properties);for(let f of Object.getOwnPropertyNames(t))o.includes(f)||(i[f]=je(e.additionalProperties,r,t[f]))}return i}function ms(e,r,t){if((0,be.Check)(e,r,t))return(0,it.Clone)(t);if(t===null||typeof t!="object"||Array.isArray(t)||t instanceof Date)return(0,Le.Create)(e,r);let n=Object.getOwnPropertyNames(e.patternProperties)[0],i=e.patternProperties[n],o={};for(let[f,p]of Object.entries(t))o[f]=je(i,r,p);return o}function bs(e,r,t){return je((0,Ln.Deref)(e,r),r,t)}function Os(e,r,t){return je((0,Ln.Deref)(e,r),r,t)}function gs(e,r,t){return(0,be.Check)(e,r,t)?(0,it.Clone)(t):(0,De.IsArray)(t)?e.items===void 0?[]:e.items.map((n,i)=>je(n,r,t[i])):(0,Le.Create)(e,r)}function Ps(e,r,t){return(0,be.Check)(e,r,t)?(0,it.Clone)(t):Yr.Create(e,r,t)}function je(e,r,t){let n=(0,De.IsString)(e.$id)?[...r,e]:r,i=e;switch(e[Re.Kind]){case"Array":return ls(i,n,t);case"Constructor":return ps(i,n,t);case"Intersect":return ys(i,n,t);case"Never":return Ts(i,n,t);case"Object":return Is(i,n,t);case"Record":return ms(i,n,t);case"Ref":return bs(i,n,t);case"This":return Os(i,n,t);case"Tuple":return gs(i,n,t);case"Union":return Ps(i,n,t);case"Date":case"Symbol":case"Uint8Array":return Mn(e,r,t);case"Any":case"AsyncIterator":case"BigInt":case"Boolean":case"Function":case"Integer":case"Iterator":case"Literal":case"Not":case"Null":case"Number":case"Promise":case"String":case"TemplateLiteral":case"Undefined":case"Unknown":case"Void":return vr(i,n,t);default:if(!Re.TypeRegistry.Has(i[Re.Kind]))throw new br(i);return vr(i,n,t)}}function $n(...e){return e.length===3?je(e[0],e[1],e[2]):je(e[0],[],e[1])}se.Cast=$n});var _n=z(Fe=>{"use strict";Object.defineProperty(Fe,"__esModule",{value:!0});Fe.Convert=Fe.Default=Fe.ValueConvertUnknownTypeError=void 0;var _=de(),xs=rt(),Us=Ot(),Bn=He(),ot=Pe(),Or=class extends ot.TypeBoxError{constructor(r){super("Unknown type"),this.schema=r}};Fe.ValueConvertUnknownTypeError=Or;function gr(e){return(0,_.IsString)(e)&&!isNaN(e)&&!isNaN(parseFloat(e))}function ws(e){return(0,_.IsBigInt)(e)||(0,_.IsBoolean)(e)||(0,_.IsNumber)(e)}function gt(e){return e===!0||(0,_.IsNumber)(e)&&e===1||(0,_.IsBigInt)(e)&&e===BigInt("1")||(0,_.IsString)(e)&&(e.toLowerCase()==="true"||e==="1")}function Pt(e){return e===!1||(0,_.IsNumber)(e)&&(e===0||Object.is(e,-0))||(0,_.IsBigInt)(e)&&e===BigInt("0")||(0,_.IsString)(e)&&(e.toLowerCase()==="false"||e==="0"||e==="-0")}function Ns(e){return(0,_.IsString)(e)&&/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i.test(e)}function js(e){return(0,_.IsString)(e)&&/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)?$/i.test(e)}function As(e){return(0,_.IsString)(e)&&/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i.test(e)}function Ss(e){return(0,_.IsString)(e)&&/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)?$/i.test(e)}function Cs(e){return(0,_.IsString)(e)&&/^\d\d\d\d-[0-1]\d-[0-3]\d$/i.test(e)}function Es(e,r){let t=Fn(e);return t===r?t:e}function Rs(e,r){let t=qn(e);return t===r?t:e}function Ls(e,r){let t=Dn(e);return t===r?t:e}function Ms(e,r){return typeof e.const=="string"?Es(r,e.const):typeof e.const=="number"?Rs(r,e.const):typeof e.const=="boolean"?Ls(r,e.const):(0,xs.Clone)(r)}function Dn(e){return gt(e)?!0:Pt(e)?!1:e}function $s(e){return gr(e)?BigInt(parseInt(e)):(0,_.IsNumber)(e)?BigInt(e|0):Pt(e)?BigInt(0):gt(e)?BigInt(1):e}function Fn(e){return ws(e)?e.toString():(0,_.IsSymbol)(e)&&e.description!==void 0?e.description.toString():e}function qn(e){return gr(e)?parseFloat(e):gt(e)?1:Pt(e)?0:e}function Ks(e){return gr(e)?parseInt(e):(0,_.IsNumber)(e)?e|0:gt(e)?1:Pt(e)?0:e}function Bs(e){return(0,_.IsString)(e)&&e.toLowerCase()==="null"?null:e}function Ds(e){return(0,_.IsString)(e)&&e==="undefined"?void 0:e}function Fs(e){return(0,_.IsDate)(e)?e:(0,_.IsNumber)(e)?new Date(e):gt(e)?new Date(1):Pt(e)?new Date(0):gr(e)?new Date(parseInt(e)):js(e)?new Date(`1970-01-01T${e}.000Z`):Ns(e)?new Date(`1970-01-01T${e}`):Ss(e)?new Date(`${e}.000Z`):As(e)?new Date(e):Cs(e)?new Date(`${e}T00:00:00.000Z`):e}function qs(e){return e}Fe.Default=qs;function _s(e,r,t){return(0,_.IsArray)(t)?t.map(n=>Ue(e.items,r,n)):t}function ks(e,r,t){return $s(t)}function Hs(e,r,t){return Dn(t)}function Vs(e,r,t){return Fs(t)}function Gs(e,r,t){return Ks(t)}function zs(e,r,t){return e.allOf.every(n=>ot.TypeGuard.TObject(n))?Ue(ot.Type.Composite(e.allOf),r,t):Ue(e.allOf[0],r,t)}function Js(e,r,t){return Ms(e,t)}function Zs(e,r,t){return Bs(t)}function Ws(e,r,t){return qn(t)}function Qs(e,r,t){return(0,_.IsObject)(t)?Object.getOwnPropertyNames(e.properties).reduce((n,i)=>t[i]!==void 0?{...n,[i]:Ue(e.properties[i],r,t[i])}:{...n},t):t}function Xs(e,r,t){let n=Object.getOwnPropertyNames(e.patternProperties)[0],i=e.patternProperties[n],o={};for(let[f,p]of Object.entries(t))o[f]=Ue(i,r,p);return o}function Ys(e,r,t){return Ue((0,Bn.Deref)(e,r),r,t)}function vs(e,r,t){return Fn(t)}function hs(e,r,t){return(0,_.IsString)(t)||(0,_.IsNumber)(t)?Symbol(t):t}function ec(e,r,t){return Ue((0,Bn.Deref)(e,r),r,t)}function tc(e,r,t){return(0,_.IsArray)(t)&&!(0,_.IsUndefined)(e.items)?t.map((n,i)=>i<e.items.length?Ue(e.items[i],r,n):n):t}function rc(e,r,t){return Ds(t)}function nc(e,r,t){for(let n of e.anyOf){let i=Ue(n,r,t);if((0,Us.Check)(n,r,i))return i}return t}function Ue(e,r,t){let n=(0,_.IsString)(e.$id)?[...r,e]:r,i=e;switch(e[ot.Kind]){case"Array":return _s(i,n,t);case"BigInt":return ks(i,n,t);case"Boolean":return Hs(i,n,t);case"Date":return Vs(i,n,t);case"Integer":return Gs(i,n,t);case"Intersect":return zs(i,n,t);case"Literal":return Js(i,n,t);case"Null":return Zs(i,n,t);case"Number":return Ws(i,n,t);case"Object":return Qs(i,n,t);case"Record":return Xs(i,n,t);case"Ref":return Ys(i,n,t);case"String":return vs(i,n,t);case"Symbol":return hs(i,n,t);case"This":return ec(i,n,t);case"Tuple":return tc(i,n,t);case"Undefined":return rc(i,n,t);case"Union":return nc(i,n,t);case"Any":case"AsyncIterator":case"Constructor":case"Function":case"Iterator":case"Never":case"Promise":case"TemplateLiteral":case"Uint8Array":case"Unknown":case"Void":return t;default:if(!ot.TypeRegistry.Has(i[ot.Kind]))throw new Or(i);return t}}function ic(...e){return e.length===3?Ue(e[0],e[1],e[2]):Ue(e[0],[],e[1])}Fe.Convert=ic});var Gn=z(X=>{"use strict";Object.defineProperty(X,"__esModule",{value:!0});X.EncodeTransform=X.DecodeTransform=X.HasTransform=X.TransformEncodeError=X.TransformDecodeError=X.TransformEncodeCheckError=X.TransformDecodeCheckError=X.TransformUnknownTypeError=void 0;var we=de(),ut=He(),$=Pe(),st=class extends $.TypeBoxError{constructor(r){super("Unknown type"),this.schema=r}};X.TransformUnknownTypeError=st;var hr=class extends $.TypeBoxError{constructor(r,t,n){super("Unable to decode due to invalid value"),this.schema=r,this.value=t,this.error=n}};X.TransformDecodeCheckError=hr;var en=class extends $.TypeBoxError{constructor(r,t,n){super("Unable to encode due to invalid value"),this.schema=r,this.value=t,this.error=n}};X.TransformEncodeCheckError=en;var Pr=class extends $.TypeBoxError{constructor(r,t,n){super(`${n instanceof Error?n.message:"Unknown error"}`),this.schema=r,this.value=t}};X.TransformDecodeError=Pr;var xr=class extends $.TypeBoxError{constructor(r,t,n){super(`${n instanceof Error?n.message:"Unknown error"}`),this.schema=r,this.value=t}};X.TransformEncodeError=xr;var kn;(function(e){function r(y,w){return $.TypeGuard.TTransform(y)||T(y.items,w)}function t(y,w){return $.TypeGuard.TTransform(y)||T(y.items,w)}function n(y,w){return $.TypeGuard.TTransform(y)||T(y.returns,w)||y.parameters.some(N=>T(N,w))}function i(y,w){return $.TypeGuard.TTransform(y)||T(y.returns,w)||y.parameters.some(N=>T(N,w))}function o(y,w){return $.TypeGuard.TTransform(y)||$.TypeGuard.TTransform(y.unevaluatedProperties)||y.allOf.some(N=>T(N,w))}function f(y,w){return $.TypeGuard.TTransform(y)||T(y.items,w)}function p(y,w){return $.TypeGuard.TTransform(y)||T(y.not,w)}function x(y,w){return $.TypeGuard.TTransform(y)||Object.values(y.properties).some(N=>T(N,w))||$.TypeGuard.TSchema(y.additionalProperties)&&T(y.additionalProperties,w)}function P(y,w){return $.TypeGuard.TTransform(y)||T(y.item,w)}function g(y,w){let N=Object.getOwnPropertyNames(y.patternProperties)[0],C=y.patternProperties[N];return $.TypeGuard.TTransform(y)||T(C,w)||$.TypeGuard.TSchema(y.additionalProperties)&&$.TypeGuard.TTransform(y.additionalProperties)}function U(y,w){return $.TypeGuard.TTransform(y)?!0:T((0,ut.Deref)(y,w),w)}function M(y,w){return $.TypeGuard.TTransform(y)?!0:T((0,ut.Deref)(y,w),w)}function b(y,w){return $.TypeGuard.TTransform(y)||$.TypeGuard.TSchema(y.items)&&y.items.some(N=>T(N,w))}function l(y,w){return $.TypeGuard.TTransform(y)||y.anyOf.some(N=>T(N,w))}function T(y,w){let N=(0,we.IsString)(y.$id)?[...w,y]:w,C=y;if(y.$id&&m.has(y.$id))return!1;switch(y.$id&&m.add(y.$id),y[$.Kind]){case"Array":return r(C,N);case"AsyncIterator":return t(C,N);case"Constructor":return n(C,N);case"Function":return i(C,N);case"Intersect":return o(C,N);case"Iterator":return f(C,N);case"Not":return p(C,N);case"Object":return x(C,N);case"Promise":return P(C,N);case"Record":return g(C,N);case"Ref":return U(C,N);case"This":return M(C,N);case"Tuple":return b(C,N);case"Union":return l(C,N);case"Any":case"BigInt":case"Boolean":case"Date":case"Integer":case"Literal":case"Never":case"Null":case"Number":case"String":case"Symbol":case"TemplateLiteral":case"Undefined":case"Uint8Array":case"Unknown":case"Void":return $.TypeGuard.TTransform(y);default:if(!$.TypeRegistry.Has(C[$.Kind]))throw new st(C);return $.TypeGuard.TTransform(y)}}let m=new Set;function O(y,w){return m.clear(),T(y,w)}e.Has=O})(kn||(X.HasTransform=kn={}));var Hn;(function(e){function r(l,T){try{return $.TypeGuard.TTransform(l)?l[$.Transform].Decode(T):T}catch(m){throw new Pr(l,T,m)}}function t(l,T,m){let O=m.map(y=>U(l.items,T,y));return r(l,O)}function n(l,T,m){if(!(0,we.IsPlainObject)(m)||(0,we.IsValueType)(m))return r(l,m);let O=$.KeyResolver.ResolveKeys(l,{includePatterns:!1}),y=Object.entries(m).reduce((N,[C,E])=>O.includes(C)?{...N,[C]:r($.IndexedAccessor.Resolve(l,[C]),E)}:{...N,[C]:E},{});if(!$.TypeGuard.TTransform(l.unevaluatedProperties))return r(l,y);let w=Object.entries(y).reduce((N,[C,E])=>O.includes(C)?{...N,[C]:E}:{...N,[C]:r(l.unevaluatedProperties,E)},{});return r(l,w)}function i(l,T,m){let O=U(l.not,T,m);return r(l,O)}function o(l,T,m){if(!(0,we.IsPlainObject)(m))return r(l,m);let O=Object.entries(m).reduce((N,[C,E])=>C in l.properties?{...N,[C]:U(l.properties[C],T,E)}:{...N,[C]:E},{});if(!$.TypeGuard.TSchema(l.additionalProperties))return r(l,O);let y=l.additionalProperties,w=Object.entries(O).reduce((N,[C,E])=>C in l.properties?{...N,[C]:E}:{...N,[C]:U(y,T,E)},{});return r(l,w)}function f(l,T,m){if(!(0,we.IsPlainObject)(m))return r(l,m);let O=Object.getOwnPropertyNames(l.patternProperties)[0],y=l.patternProperties[O],w=new RegExp(O),N=Object.entries(m).reduce((v,[V,ne])=>w.test(V)?{...v,[V]:U(y,T,ne)}:{...v,[V]:ne},{});if(!$.TypeGuard.TSchema(l.additionalProperties))return r(l,N);let C=l.additionalProperties,E=Object.entries(N).reduce((v,[V,ne])=>w.test(V)?{...v,[V]:ne}:{...v,[V]:U(C,T,ne)},{});return r(l,E)}function p(l,T,m){let O=(0,ut.Deref)(l,T),y=U(O,T,m);return r(l,y)}function x(l,T,m){let O=(0,ut.Deref)(l,T),y=U(O,T,m);return r(l,y)}function P(l,T,m){let O=(0,we.IsArray)(l.items)?l.items.map((y,w)=>U(y,T,m[w])):[];return r(l,O)}function g(l,T,m){let O=r(l,m);for(let y of l.anyOf)if(M(y,T,O))return U(y,T,O);return O}function U(l,T,m){let O=typeof l.$id=="string"?[...T,l]:T,y=l;switch(l[$.Kind]){case"Array":return t(y,O,m);case"Intersect":return n(y,O,m);case"Not":return i(y,O,m);case"Object":return o(y,O,m);case"Record":return f(y,O,m);case"Ref":return p(y,O,m);case"Symbol":return r(y,m);case"This":return x(y,O,m);case"Tuple":return P(y,O,m);case"Union":return g(y,O,m);case"Any":case"AsyncIterator":case"BigInt":case"Boolean":case"Constructor":case"Date":case"Function":case"Integer":case"Iterator":case"Literal":case"Never":case"Null":case"Number":case"Promise":case"String":case"TemplateLiteral":case"Undefined":case"Uint8Array":case"Unknown":case"Void":return r(y,m);default:if(!$.TypeRegistry.Has(y[$.Kind]))throw new st(y);return r(y,m)}}let M=()=>!1;function b(l,T,m,O){return M=O,U(l,T,m)}e.Decode=b})(Hn||(X.DecodeTransform=Hn={}));var Vn;(function(e){function r(l,T){try{return $.TypeGuard.TTransform(l)?l[$.Transform].Encode(T):T}catch(m){throw new xr(l,T,m)}}function t(l,T,m){return r(l,m).map(y=>U(l.items,T,y))}function n(l,T,m){let O=r(l,m);if(!(0,we.IsPlainObject)(m)||(0,we.IsValueType)(m))return O;let y=$.KeyResolver.ResolveKeys(l,{includePatterns:!1}),w=Object.entries(O).reduce((N,[C,E])=>y.includes(C)?{...N,[C]:r($.IndexedAccessor.Resolve(l,[C]),E)}:{...N,[C]:E},{});return $.TypeGuard.TTransform(l.unevaluatedProperties)?Object.entries(w).reduce((N,[C,E])=>y.includes(C)?{...N,[C]:E}:{...N,[C]:r(l.unevaluatedProperties,E)},{}):r(l,w)}function i(l,T,m){let O=r(l,m);return r(l.not,O)}function o(l,T,m){let O=r(l,m);if(!(0,we.IsPlainObject)(m))return O;let y=Object.entries(O).reduce((N,[C,E])=>C in l.properties?{...N,[C]:U(l.properties[C],T,E)}:{...N,[C]:E},{});if(!$.TypeGuard.TSchema(l.additionalProperties))return y;let w=l.additionalProperties;return Object.entries(y).reduce((N,[C,E])=>C in l.properties?{...N,[C]:E}:{...N,[C]:U(w,T,E)},{})}function f(l,T,m){let O=r(l,m);if(!(0,we.IsPlainObject)(m))return O;let y=Object.getOwnPropertyNames(l.patternProperties)[0],w=l.patternProperties[y],N=new RegExp(y),C=Object.entries(O).reduce((v,[V,ne])=>N.test(V)?{...v,[V]:U(w,T,ne)}:{...v,[V]:ne},{});if(!$.TypeGuard.TSchema(l.additionalProperties))return r(l,C);let E=l.additionalProperties;return Object.entries(C).reduce((v,[V,ne])=>N.test(V)?{...v,[V]:ne}:{...v,[V]:U(E,T,ne)},{})}function p(l,T,m){let O=(0,ut.Deref)(l,T),y=U(O,T,m);return r(l,y)}function x(l,T,m){let O=(0,ut.Deref)(l,T),y=U(O,T,m);return r(l,y)}function P(l,T,m){let O=r(l,m);return(0,we.IsArray)(l.items)?l.items.map((y,w)=>U(y,T,O[w])):[]}function g(l,T,m){for(let O of l.anyOf){if(!M(O,T,m))continue;let y=U(O,T,m);return r(l,y)}return r(l,m)}function U(l,T,m){let O=typeof l.$id=="string"?[...T,l]:T,y=l;switch(l[$.Kind]){case"Array":return t(y,O,m);case"Intersect":return n(y,O,m);case"Not":return i(y,O,m);case"Object":return o(y,O,m);case"Record":return f(y,O,m);case"Ref":return p(y,O,m);case"This":return x(y,O,m);case"Tuple":return P(y,O,m);case"Union":return g(y,O,m);case"Any":case"AsyncIterator":case"BigInt":case"Boolean":case"Constructor":case"Date":case"Function":case"Integer":case"Iterator":case"Literal":case"Never":case"Null":case"Number":case"Promise":case"String":case"Symbol":case"TemplateLiteral":case"Undefined":case"Uint8Array":case"Unknown":case"Void":return r(y,m);default:if(!$.TypeRegistry.Has(y[$.Kind]))throw new st(y);return r(y,m)}}let M=()=>!1;function b(l,T,m,O){return M=O,U(l,T,m)}e.Encode=b})(Vn||(X.EncodeTransform=Vn={}))});var Yn=z(Nr=>{"use strict";Object.defineProperty(Nr,"__esModule",{value:!0});Nr.Value=void 0;var zn=Hr(),oc=Nn(),uc=Qt(),sc=jn(),Jn=Kn(),cc=rt(),Zn=_n(),Wn=Qr(),Ur=Ot(),Qn=Jr(),wr=Gn(),Xn;(function(e){function r(...l){return Jn.Cast.apply(Jn,l)}e.Cast=r;function t(...l){return Wn.Create.apply(Wn,l)}e.Create=t;function n(...l){return Ur.Check.apply(Ur,l)}e.Check=n;function i(...l){return Zn.Convert.apply(Zn,l)}e.Convert=i;function o(l){return cc.Clone(l)}e.Clone=o;function f(...l){let[T,m,O]=l.length===3?[l[0],l[1],l[2]]:[l[0],[],l[1]];if(!n(T,m,O))throw new wr.TransformDecodeCheckError(T,O,x(T,m,O).First());return wr.DecodeTransform.Decode(T,m,O,Ur.Check)}e.Decode=f;function p(...l){let[T,m,O]=l.length===3?[l[0],l[1],l[2]]:[l[0],[],l[1]],y=wr.EncodeTransform.Encode(T,m,O,Ur.Check);if(!n(T,m,y))throw new wr.TransformEncodeCheckError(T,O,x(T,m,O).First());return y}e.Encode=p;function x(...l){return zn.Errors.apply(zn,l)}e.Errors=x;function P(l,T){return sc.Equal(l,T)}e.Equal=P;function g(l,T){return Qn.Diff(l,T)}e.Diff=g;function U(l){return uc.Hash(l)}e.Hash=U;function M(l,T){return Qn.Patch(l,T)}e.Patch=M;function b(l,T){oc.Mutate(l,T)}e.Mutate=b})(Xn||(Nr.Value=Xn={}))});var hn=z(Y=>{"use strict";Object.defineProperty(Y,"__esModule",{value:!0});Y.Value=Y.ValuePointer=Y.Delete=Y.Update=Y.Insert=Y.Edit=Y.ValueErrorIterator=Y.ValueErrorType=void 0;var vn=Hr();Object.defineProperty(Y,"ValueErrorType",{enumerable:!0,get:function(){return vn.ValueErrorType}});Object.defineProperty(Y,"ValueErrorIterator",{enumerable:!0,get:function(){return vn.ValueErrorIterator}});var jr=Jr();Object.defineProperty(Y,"Edit",{enumerable:!0,get:function(){return jr.Edit}});Object.defineProperty(Y,"Insert",{enumerable:!0,get:function(){return jr.Insert}});Object.defineProperty(Y,"Update",{enumerable:!0,get:function(){return jr.Update}});Object.defineProperty(Y,"Delete",{enumerable:!0,get:function(){return jr.Delete}});var fc=er();Object.defineProperty(Y,"ValuePointer",{enumerable:!0,get:function(){return fc.ValuePointer}});var ac=Yn();Object.defineProperty(Y,"Value",{enumerable:!0,get:function(){return ac.Value}})});var Ar=nn(Pe()),ei=nn(hn());import{readFile as dc,writeFile as lc}from"node:fs/promises";async function pc(){let e=Ar.Type.Record(Ar.Type.RegExp(/^[a-z0-9-]$/),Ar.Type.String()),r=await dc("./aliases.json",{encoding:"utf-8"}),t=JSON.parse(r),n=Object.keys(t).sort().reduce((i,o)=>(i[o]=t[o],i),{});if(!ei.Value.Check(e,n))throw new Error("bad format");await lc("./aliases.json",JSON.stringify(n,null,2))}pc();
